"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(() => {
var exports = {};
exports.id = "app/api/products/sync/route";
exports.ids = ["app/api/products/sync/route"];
exports.modules = {

/***/ "next/dist/compiled/next-server/app-page.runtime.dev.js":
/*!*************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-page.runtime.dev.js" ***!
  \*************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/compiled/next-server/app-page.runtime.dev.js");

/***/ }),

/***/ "next/dist/compiled/next-server/app-route.runtime.dev.js":
/*!**************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-route.runtime.dev.js" ***!
  \**************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/compiled/next-server/app-route.runtime.dev.js");

/***/ }),

/***/ "pg":
/*!*********************!*\
  !*** external "pg" ***!
  \*********************/
/***/ ((module) => {

module.exports = require("pg");

/***/ }),

/***/ "(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fproducts%2Fsync%2Froute&page=%2Fapi%2Fproducts%2Fsync%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fproducts%2Fsync%2Froute.ts&appDir=E%3A%5Cwoocommerceproductmanager%5Csrc%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=E%3A%5Cwoocommerceproductmanager&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=standalone&preferredRegion=&middlewareConfig=e30%3D!":
/*!*********************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fproducts%2Fsync%2Froute&page=%2Fapi%2Fproducts%2Fsync%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fproducts%2Fsync%2Froute.ts&appDir=E%3A%5Cwoocommerceproductmanager%5Csrc%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=E%3A%5Cwoocommerceproductmanager&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=standalone&preferredRegion=&middlewareConfig=e30%3D! ***!
  \*********************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   originalPathname: () => (/* binding */ originalPathname),\n/* harmony export */   patchFetch: () => (/* binding */ patchFetch),\n/* harmony export */   requestAsyncStorage: () => (/* binding */ requestAsyncStorage),\n/* harmony export */   routeModule: () => (/* binding */ routeModule),\n/* harmony export */   serverHooks: () => (/* binding */ serverHooks),\n/* harmony export */   staticGenerationAsyncStorage: () => (/* binding */ staticGenerationAsyncStorage)\n/* harmony export */ });\n/* harmony import */ var next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/server/future/route-modules/app-route/module.compiled */ \"(rsc)/./node_modules/next/dist/server/future/route-modules/app-route/module.compiled.js\");\n/* harmony import */ var next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next/dist/server/future/route-kind */ \"(rsc)/./node_modules/next/dist/server/future/route-kind.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/dist/server/lib/patch-fetch */ \"(rsc)/./node_modules/next/dist/server/lib/patch-fetch.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var E_woocommerceproductmanager_src_app_api_products_sync_route_ts__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./src/app/api/products/sync/route.ts */ \"(rsc)/./src/app/api/products/sync/route.ts\");\n\n\n\n\n// We inject the nextConfigOutput here so that we can use them in the route\n// module.\nconst nextConfigOutput = \"standalone\"\nconst routeModule = new next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__.AppRouteRouteModule({\n    definition: {\n        kind: next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__.RouteKind.APP_ROUTE,\n        page: \"/api/products/sync/route\",\n        pathname: \"/api/products/sync\",\n        filename: \"route\",\n        bundlePath: \"app/api/products/sync/route\"\n    },\n    resolvedPagePath: \"E:\\\\woocommerceproductmanager\\\\src\\\\app\\\\api\\\\products\\\\sync\\\\route.ts\",\n    nextConfigOutput,\n    userland: E_woocommerceproductmanager_src_app_api_products_sync_route_ts__WEBPACK_IMPORTED_MODULE_3__\n});\n// Pull out the exports that we need to expose from the module. This should\n// be eliminated when we've moved the other routes to the new format. These\n// are used to hook into the route.\nconst { requestAsyncStorage, staticGenerationAsyncStorage, serverHooks } = routeModule;\nconst originalPathname = \"/api/products/sync/route\";\nfunction patchFetch() {\n    return (0,next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__.patchFetch)({\n        serverHooks,\n        staticGenerationAsyncStorage\n    });\n}\n\n\n//# sourceMappingURL=app-route.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2J1aWxkL3dlYnBhY2svbG9hZGVycy9uZXh0LWFwcC1sb2FkZXIuanM/bmFtZT1hcHAlMkZhcGklMkZwcm9kdWN0cyUyRnN5bmMlMkZyb3V0ZSZwYWdlPSUyRmFwaSUyRnByb2R1Y3RzJTJGc3luYyUyRnJvdXRlJmFwcFBhdGhzPSZwYWdlUGF0aD1wcml2YXRlLW5leHQtYXBwLWRpciUyRmFwaSUyRnByb2R1Y3RzJTJGc3luYyUyRnJvdXRlLnRzJmFwcERpcj1FJTNBJTVDd29vY29tbWVyY2Vwcm9kdWN0bWFuYWdlciU1Q3NyYyU1Q2FwcCZwYWdlRXh0ZW5zaW9ucz10c3gmcGFnZUV4dGVuc2lvbnM9dHMmcGFnZUV4dGVuc2lvbnM9anN4JnBhZ2VFeHRlbnNpb25zPWpzJnJvb3REaXI9RSUzQSU1Q3dvb2NvbW1lcmNlcHJvZHVjdG1hbmFnZXImaXNEZXY9dHJ1ZSZ0c2NvbmZpZ1BhdGg9dHNjb25maWcuanNvbiZiYXNlUGF0aD0mYXNzZXRQcmVmaXg9Jm5leHRDb25maWdPdXRwdXQ9c3RhbmRhbG9uZSZwcmVmZXJyZWRSZWdpb249Jm1pZGRsZXdhcmVDb25maWc9ZTMwJTNEISIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7QUFBc0c7QUFDdkM7QUFDYztBQUNzQjtBQUNuRztBQUNBO0FBQ0E7QUFDQSx3QkFBd0IsZ0hBQW1CO0FBQzNDO0FBQ0EsY0FBYyx5RUFBUztBQUN2QjtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsWUFBWTtBQUNaLENBQUM7QUFDRDtBQUNBO0FBQ0E7QUFDQSxRQUFRLGlFQUFpRTtBQUN6RTtBQUNBO0FBQ0EsV0FBVyw0RUFBVztBQUN0QjtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ3VIOztBQUV2SCIsInNvdXJjZXMiOlsid2VicGFjazovL3dvb2NvbW1lcmNlLXByb2R1Y3QtbWFuYWdlci8/MzY5MCJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBBcHBSb3V0ZVJvdXRlTW9kdWxlIH0gZnJvbSBcIm5leHQvZGlzdC9zZXJ2ZXIvZnV0dXJlL3JvdXRlLW1vZHVsZXMvYXBwLXJvdXRlL21vZHVsZS5jb21waWxlZFwiO1xuaW1wb3J0IHsgUm91dGVLaW5kIH0gZnJvbSBcIm5leHQvZGlzdC9zZXJ2ZXIvZnV0dXJlL3JvdXRlLWtpbmRcIjtcbmltcG9ydCB7IHBhdGNoRmV0Y2ggYXMgX3BhdGNoRmV0Y2ggfSBmcm9tIFwibmV4dC9kaXN0L3NlcnZlci9saWIvcGF0Y2gtZmV0Y2hcIjtcbmltcG9ydCAqIGFzIHVzZXJsYW5kIGZyb20gXCJFOlxcXFx3b29jb21tZXJjZXByb2R1Y3RtYW5hZ2VyXFxcXHNyY1xcXFxhcHBcXFxcYXBpXFxcXHByb2R1Y3RzXFxcXHN5bmNcXFxccm91dGUudHNcIjtcbi8vIFdlIGluamVjdCB0aGUgbmV4dENvbmZpZ091dHB1dCBoZXJlIHNvIHRoYXQgd2UgY2FuIHVzZSB0aGVtIGluIHRoZSByb3V0ZVxuLy8gbW9kdWxlLlxuY29uc3QgbmV4dENvbmZpZ091dHB1dCA9IFwic3RhbmRhbG9uZVwiXG5jb25zdCByb3V0ZU1vZHVsZSA9IG5ldyBBcHBSb3V0ZVJvdXRlTW9kdWxlKHtcbiAgICBkZWZpbml0aW9uOiB7XG4gICAgICAgIGtpbmQ6IFJvdXRlS2luZC5BUFBfUk9VVEUsXG4gICAgICAgIHBhZ2U6IFwiL2FwaS9wcm9kdWN0cy9zeW5jL3JvdXRlXCIsXG4gICAgICAgIHBhdGhuYW1lOiBcIi9hcGkvcHJvZHVjdHMvc3luY1wiLFxuICAgICAgICBmaWxlbmFtZTogXCJyb3V0ZVwiLFxuICAgICAgICBidW5kbGVQYXRoOiBcImFwcC9hcGkvcHJvZHVjdHMvc3luYy9yb3V0ZVwiXG4gICAgfSxcbiAgICByZXNvbHZlZFBhZ2VQYXRoOiBcIkU6XFxcXHdvb2NvbW1lcmNlcHJvZHVjdG1hbmFnZXJcXFxcc3JjXFxcXGFwcFxcXFxhcGlcXFxccHJvZHVjdHNcXFxcc3luY1xcXFxyb3V0ZS50c1wiLFxuICAgIG5leHRDb25maWdPdXRwdXQsXG4gICAgdXNlcmxhbmRcbn0pO1xuLy8gUHVsbCBvdXQgdGhlIGV4cG9ydHMgdGhhdCB3ZSBuZWVkIHRvIGV4cG9zZSBmcm9tIHRoZSBtb2R1bGUuIFRoaXMgc2hvdWxkXG4vLyBiZSBlbGltaW5hdGVkIHdoZW4gd2UndmUgbW92ZWQgdGhlIG90aGVyIHJvdXRlcyB0byB0aGUgbmV3IGZvcm1hdC4gVGhlc2Vcbi8vIGFyZSB1c2VkIHRvIGhvb2sgaW50byB0aGUgcm91dGUuXG5jb25zdCB7IHJlcXVlc3RBc3luY1N0b3JhZ2UsIHN0YXRpY0dlbmVyYXRpb25Bc3luY1N0b3JhZ2UsIHNlcnZlckhvb2tzIH0gPSByb3V0ZU1vZHVsZTtcbmNvbnN0IG9yaWdpbmFsUGF0aG5hbWUgPSBcIi9hcGkvcHJvZHVjdHMvc3luYy9yb3V0ZVwiO1xuZnVuY3Rpb24gcGF0Y2hGZXRjaCgpIHtcbiAgICByZXR1cm4gX3BhdGNoRmV0Y2goe1xuICAgICAgICBzZXJ2ZXJIb29rcyxcbiAgICAgICAgc3RhdGljR2VuZXJhdGlvbkFzeW5jU3RvcmFnZVxuICAgIH0pO1xufVxuZXhwb3J0IHsgcm91dGVNb2R1bGUsIHJlcXVlc3RBc3luY1N0b3JhZ2UsIHN0YXRpY0dlbmVyYXRpb25Bc3luY1N0b3JhZ2UsIHNlcnZlckhvb2tzLCBvcmlnaW5hbFBhdGhuYW1lLCBwYXRjaEZldGNoLCAgfTtcblxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9YXBwLXJvdXRlLmpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fproducts%2Fsync%2Froute&page=%2Fapi%2Fproducts%2Fsync%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fproducts%2Fsync%2Froute.ts&appDir=E%3A%5Cwoocommerceproductmanager%5Csrc%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=E%3A%5Cwoocommerceproductmanager&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=standalone&preferredRegion=&middlewareConfig=e30%3D!\n");

/***/ }),

/***/ "(rsc)/./src/app/api/products/sync/route.ts":
/*!********************************************!*\
  !*** ./src/app/api/products/sync/route.ts ***!
  \********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   POST: () => (/* binding */ POST)\n/* harmony export */ });\n/* harmony import */ var next_server__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/server */ \"(rsc)/./node_modules/next/dist/api/server.js\");\n/* harmony import */ var _lib_db__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../lib/db */ \"(rsc)/./src/lib/db/index.ts\");\n/* harmony import */ var _lib_db_schema__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../lib/db/schema */ \"(rsc)/./src/lib/db/schema.ts\");\n/* harmony import */ var drizzle_orm__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! drizzle-orm */ \"(rsc)/./node_modules/drizzle-orm/sql/expressions/conditions.js\");\n/* harmony import */ var _lib_woocommerce__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../../lib/woocommerce */ \"(rsc)/./src/lib/woocommerce.ts\");\n\n\n\n\n\nasync function POST(request) {\n    try {\n        const { searchParams } = new URL(request.url);\n        const shopId = searchParams.get(\"shopId\");\n        const batchSize = parseInt(searchParams.get(\"batchSize\") || \"50\");\n        const maxProducts = parseInt(searchParams.get(\"maxProducts\") || \"500\");\n        if (!shopId) {\n            return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                error: \"Shop ID is required\"\n            }, {\n                status: 400\n            });\n        }\n        // Get shop details\n        const [shop] = await _lib_db__WEBPACK_IMPORTED_MODULE_1__.db.select().from(_lib_db_schema__WEBPACK_IMPORTED_MODULE_2__.shops).where((0,drizzle_orm__WEBPACK_IMPORTED_MODULE_4__.eq)(_lib_db_schema__WEBPACK_IMPORTED_MODULE_2__.shops.id, parseInt(shopId))).limit(1);\n        if (!shop) {\n            return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                error: \"Shop not found\"\n            }, {\n                status: 404\n            });\n        }\n        // Initialize WooCommerce client\n        const wooClient = new _lib_woocommerce__WEBPACK_IMPORTED_MODULE_3__.WooCommerceClient(shop);\n        // Test connection first\n        try {\n            await wooClient.testConnection();\n        } catch (error) {\n            console.error(\"WooCommerce connection failed:\", error);\n            return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                error: \"Failed to connect to WooCommerce store\"\n            }, {\n                status: 400\n            });\n        }\n        let page = 1;\n        let totalProducts = 0;\n        let syncedProducts = 0;\n        let updatedProducts = 0;\n        let processedProducts = 0;\n        while(processedProducts < maxProducts){\n            try {\n                const remainingProducts = maxProducts - processedProducts;\n                const currentBatchSize = Math.min(batchSize, remainingProducts);\n                // Fetch products from WooCommerce\n                const { products: wooProducts } = await wooClient.getProducts({\n                    page,\n                    per_page: currentBatchSize,\n                    status: \"publish\"\n                });\n                if (!wooProducts || wooProducts.length === 0) {\n                    break; // No more products\n                }\n                totalProducts += wooProducts.length;\n                processedProducts += wooProducts.length;\n                // Process each product\n                for (const wooProduct of wooProducts){\n                    try {\n                        // Check if product already exists\n                        const [existingProduct] = await _lib_db__WEBPACK_IMPORTED_MODULE_1__.db.select().from(_lib_db_schema__WEBPACK_IMPORTED_MODULE_2__.products).where((0,drizzle_orm__WEBPACK_IMPORTED_MODULE_4__.eq)(_lib_db_schema__WEBPACK_IMPORTED_MODULE_2__.products.wooId, wooProduct.id)).limit(1);\n                        const productData = {\n                            shopId: parseInt(shopId),\n                            wooId: wooProduct.id,\n                            name: wooProduct.name,\n                            slug: wooProduct.slug,\n                            type: wooProduct.type,\n                            status: wooProduct.status,\n                            sku: wooProduct.sku || \"\",\n                            description: wooProduct.description || \"\",\n                            shortDescription: wooProduct.short_description || \"\",\n                            price: wooProduct.price || null,\n                            regularPrice: wooProduct.regular_price || null,\n                            salePrice: wooProduct.sale_price || null,\n                            onSale: wooProduct.on_sale || false,\n                            purchasable: wooProduct.purchasable !== false,\n                            totalSales: wooProduct.total_sales || 0,\n                            virtual: wooProduct.virtual || false,\n                            downloadable: wooProduct.downloadable || false,\n                            downloads: wooProduct.downloads ? JSON.stringify(wooProduct.downloads) : null,\n                            downloadLimit: wooProduct.download_limit || null,\n                            downloadExpiry: wooProduct.download_expiry || null,\n                            externalUrl: wooProduct.external_url || null,\n                            buttonText: wooProduct.button_text || null,\n                            taxStatus: wooProduct.tax_status || \"taxable\",\n                            taxClass: wooProduct.tax_class || null,\n                            stockStatus: wooProduct.stock_status || \"instock\",\n                            stockQuantity: wooProduct.stock_quantity || null,\n                            manageStock: wooProduct.manage_stock || false,\n                            backorders: wooProduct.backorders || \"no\",\n                            backordersAllowed: wooProduct.backorders_allowed || false,\n                            backordered: wooProduct.backordered || false,\n                            lowStockAmount: wooProduct.low_stock_amount || null,\n                            soldIndividually: wooProduct.sold_individually || false,\n                            weight: wooProduct.weight || null,\n                            dimensions: wooProduct.dimensions ? JSON.stringify(wooProduct.dimensions) : null,\n                            shippingClass: wooProduct.shipping_class || null,\n                            shippingClassId: wooProduct.shipping_class_id || null,\n                            // Undgå at sende length, width og height direkte\n                            // De eksisterer i databasen men er ikke med i schema.ts\n                            images: wooProduct.images ? JSON.stringify(wooProduct.images) : null,\n                            categories: wooProduct.categories ? JSON.stringify(wooProduct.categories) : null,\n                            tags: wooProduct.tags ? JSON.stringify(wooProduct.tags) : null,\n                            attributes: wooProduct.attributes ? JSON.stringify(wooProduct.attributes) : null,\n                            dateCreated: new Date(wooProduct.date_created),\n                            dateModified: new Date(wooProduct.date_modified)\n                        };\n                        if (existingProduct) {\n                            // Update existing product\n                            await _lib_db__WEBPACK_IMPORTED_MODULE_1__.db.update(_lib_db_schema__WEBPACK_IMPORTED_MODULE_2__.products).set({\n                                ...productData,\n                                updatedAt: new Date()\n                            }).where((0,drizzle_orm__WEBPACK_IMPORTED_MODULE_4__.eq)(_lib_db_schema__WEBPACK_IMPORTED_MODULE_2__.products.id, existingProduct.id));\n                            updatedProducts++;\n                        } else {\n                            // Insert new product\n                            const [newProduct] = await _lib_db__WEBPACK_IMPORTED_MODULE_1__.db.insert(_lib_db_schema__WEBPACK_IMPORTED_MODULE_2__.products).values(productData).returning();\n                            syncedProducts++;\n                            // Sync variations if it's a variable product\n                            if (wooProduct.type === \"variable\" && wooProduct.variations && wooProduct.variations.length > 0) {\n                                for (const variationId of wooProduct.variations){\n                                    try {\n                                        const variation = await wooClient.getVariation(wooProduct.id, variationId);\n                                        await _lib_db__WEBPACK_IMPORTED_MODULE_1__.db.insert(_lib_db_schema__WEBPACK_IMPORTED_MODULE_2__.variations).values({\n                                            shopId: parseInt(shopId),\n                                            wooId: variation.id,\n                                            wooParentId: wooProduct.id,\n                                            productId: newProduct.id,\n                                            name: variation.name || `${wooProduct.name} - Variant`,\n                                            slug: variation.permalink ? variation.permalink.split(\"/\").pop() || \"\" : \"\",\n                                            sku: variation.sku || \"\",\n                                            status: variation.status || \"publish\",\n                                            price: variation.price || null,\n                                            regularPrice: variation.regular_price || null,\n                                            salePrice: variation.sale_price || null,\n                                            onSale: variation.on_sale || false,\n                                            stockStatus: variation.stock_status || \"instock\",\n                                            stockQuantity: variation.stock_quantity || null,\n                                            manageStock: variation.manage_stock || false,\n                                            backorders: variation.backorders || \"no\",\n                                            backordersAllowed: variation.backorders_allowed || false,\n                                            backordered: variation.backordered || false,\n                                            virtual: variation.virtual || false,\n                                            downloadable: variation.downloadable || false,\n                                            downloadLimit: variation.download_limit || null,\n                                            downloadExpiry: variation.download_expiry || null,\n                                            taxStatus: variation.tax_status || \"taxable\",\n                                            taxClass: variation.tax_class || null,\n                                            // lowStockAmount findes ikke i variations tabellen\n                                            weight: variation.weight || null,\n                                            dimensions: variation.dimensions ? JSON.stringify(variation.dimensions) : null,\n                                            shippingClass: variation.shipping_class || null,\n                                            shippingClassId: variation.shipping_class_id || null,\n                                            // Undgå at sende length, width og height direkte\n                                            // De eksisterer i databasen men er ikke med i schema.ts\n                                            image: variation.image ? JSON.stringify(variation.image) : null,\n                                            attributes: variation.attributes ? JSON.stringify(variation.attributes) : null,\n                                            dateCreated: new Date(variation.date_created),\n                                            dateModified: new Date(variation.date_modified)\n                                        });\n                                    } catch (variationError) {\n                                        console.error(`Error syncing variation ${variationId}:`, variationError);\n                                    // Continue with next variation\n                                    }\n                                }\n                            }\n                        }\n                    } catch (productError) {\n                        console.error(`Error processing product ${wooProduct.id}:`, productError);\n                    // Continue with next product\n                    }\n                }\n                page++;\n                // Add a longer delay to avoid overwhelming the WooCommerce API\n                await new Promise((resolve)=>setTimeout(resolve, 1000));\n                // Log progress every 100 products\n                if (processedProducts % 100 === 0) {\n                    console.log(`Processed ${processedProducts}/${maxProducts} products...`);\n                }\n            } catch (pageError) {\n                console.error(`Error fetching page ${page}:`, pageError);\n                break;\n            }\n        }\n        // Update shop's last ping (since we don't have lastSync field)\n        await _lib_db__WEBPACK_IMPORTED_MODULE_1__.db.update(_lib_db_schema__WEBPACK_IMPORTED_MODULE_2__.shops).set({\n            lastPing: new Date(),\n            status: \"online\",\n            updatedAt: new Date()\n        }).where((0,drizzle_orm__WEBPACK_IMPORTED_MODULE_4__.eq)(_lib_db_schema__WEBPACK_IMPORTED_MODULE_2__.shops.id, parseInt(shopId)));\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n            success: true,\n            message: `Products synchronized successfully (limited to ${maxProducts} products)`,\n            stats: {\n                totalProducts,\n                syncedProducts,\n                updatedProducts,\n                processedProducts,\n                maxProducts,\n                hasMore: processedProducts >= maxProducts\n            }\n        });\n    } catch (error) {\n        console.error(\"Error synchronizing products:\", error);\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n            error: \"Failed to synchronize products\"\n        }, {\n            status: 500\n        });\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9zcmMvYXBwL2FwaS9wcm9kdWN0cy9zeW5jL3JvdXRlLnRzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7OztBQUF1RDtBQUNoQjtBQUNnQztBQUN2QztBQUMrQjtBQUV4RCxlQUFlTyxLQUFLQyxPQUFvQjtJQUM3QyxJQUFJO1FBQ0YsTUFBTSxFQUFFQyxZQUFZLEVBQUUsR0FBRyxJQUFJQyxJQUFJRixRQUFRRyxHQUFHO1FBQzVDLE1BQU1DLFNBQVNILGFBQWFJLEdBQUcsQ0FBQztRQUNoQyxNQUFNQyxZQUFZQyxTQUFTTixhQUFhSSxHQUFHLENBQUMsZ0JBQWdCO1FBQzVELE1BQU1HLGNBQWNELFNBQVNOLGFBQWFJLEdBQUcsQ0FBQyxrQkFBa0I7UUFFaEUsSUFBSSxDQUFDRCxRQUFRO1lBQ1gsT0FBT1oscURBQVlBLENBQUNpQixJQUFJLENBQUM7Z0JBQUVDLE9BQU87WUFBc0IsR0FBRztnQkFBRUMsUUFBUTtZQUFJO1FBQzNFO1FBRUEsbUJBQW1CO1FBQ25CLE1BQU0sQ0FBQ0MsS0FBSyxHQUFHLE1BQU1uQix1Q0FBRUEsQ0FDcEJvQixNQUFNLEdBQ05DLElBQUksQ0FBQ2xCLGlEQUFLQSxFQUNWbUIsS0FBSyxDQUFDbEIsK0NBQUVBLENBQUNELGlEQUFLQSxDQUFDb0IsRUFBRSxFQUFFVCxTQUFTSCxVQUM1QmEsS0FBSyxDQUFDO1FBRVQsSUFBSSxDQUFDTCxNQUFNO1lBQ1QsT0FBT3BCLHFEQUFZQSxDQUFDaUIsSUFBSSxDQUFDO2dCQUFFQyxPQUFPO1lBQWlCLEdBQUc7Z0JBQUVDLFFBQVE7WUFBSTtRQUN0RTtRQUVBLGdDQUFnQztRQUNoQyxNQUFNTyxZQUFZLElBQUlwQiwrREFBaUJBLENBQUNjO1FBRXhDLHdCQUF3QjtRQUN4QixJQUFJO1lBQ0YsTUFBTU0sVUFBVUMsY0FBYztRQUNoQyxFQUFFLE9BQU9ULE9BQU87WUFDZFUsUUFBUVYsS0FBSyxDQUFDLGtDQUFrQ0E7WUFDaEQsT0FBT2xCLHFEQUFZQSxDQUFDaUIsSUFBSSxDQUN0QjtnQkFB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QStEO2dCQUMvRCxNQUFNLElBQUlrRyxRQUFRQyxDQUFBQSxVQUFXQyxXQUFXRCxTQUFTO2dCQUVqRCxrQ0FBa0M7Z0JBQ2xDLElBQUkvRixvQkFBb0IsUUFBUSxHQUFHO29CQUNqQ0wsUUFBUXNHLEdBQUcsQ0FBQyxDQUFDLFVBQVUsRUFBRWpHLGtCQUFrQixDQUFDLEVBQUVqQixZQUFZLFlBQVksQ0FBQztnQkFDekU7WUFFRixFQUFFLE9BQU9tSCxXQUFXO2dCQUNsQnZHLFFBQVFWLEtBQUssQ0FBQyxDQUFDLG9CQUFvQixFQUFFVyxLQUFLLENBQUMsQ0FBQyxFQUFFc0c7Z0JBQzlDO1lBQ0Y7UUFDRjtRQUVBLCtEQUErRDtRQUMvRCxNQUFNbEksdUNBQUVBLENBQ0w0RyxNQUFNLENBQUN6RyxpREFBS0EsRUFDWjBHLEdBQUcsQ0FBQztZQUNIc0IsVUFBVSxJQUFJM0I7WUFDZHRGLFFBQVE7WUFDUjRGLFdBQVcsSUFBSU47UUFDakIsR0FDQ2xGLEtBQUssQ0FBQ2xCLCtDQUFFQSxDQUFDRCxpREFBS0EsQ0FBQ29CLEVBQUUsRUFBRVQsU0FBU0g7UUFFL0IsT0FBT1oscURBQVlBLENBQUNpQixJQUFJLENBQUM7WUFDdkJvSCxTQUFTO1lBQ1RDLFNBQVMsQ0FBQywrQ0FBK0MsRUFBRXRILFlBQVksVUFBVSxDQUFDO1lBQ2xGdUgsT0FBTztnQkFDTHpHO2dCQUNBQztnQkFDQUM7Z0JBQ0FDO2dCQUNBakI7Z0JBQ0F3SCxTQUFTdkcscUJBQXFCakI7WUFDaEM7UUFDRjtJQUVGLEVBQUUsT0FBT0UsT0FBTztRQUNkVSxRQUFRVixLQUFLLENBQUMsaUNBQWlDQTtRQUMvQyxPQUFPbEIscURBQVlBLENBQUNpQixJQUFJLENBQ3RCO1lBQUVDLE9BQU87UUFBaUMsR0FDMUM7WUFBRUMsUUFBUTtRQUFJO0lBRWxCO0FBQ0YiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly93b29jb21tZXJjZS1wcm9kdWN0LW1hbmFnZXIvLi9zcmMvYXBwL2FwaS9wcm9kdWN0cy9zeW5jL3JvdXRlLnRzP2I0MzgiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgTmV4dFJlcXVlc3QsIE5leHRSZXNwb25zZSB9IGZyb20gJ25leHQvc2VydmVyJ1xyXG5pbXBvcnQgeyBkYiB9IGZyb20gJy4uLy4uLy4uLy4uL2xpYi9kYidcclxuaW1wb3J0IHsgcHJvZHVjdHMsIHZhcmlhdGlvbnMsIHNob3BzIH0gZnJvbSAnLi4vLi4vLi4vLi4vbGliL2RiL3NjaGVtYSdcclxuaW1wb3J0IHsgZXEgfSBmcm9tICdkcml6emxlLW9ybSdcclxuaW1wb3J0IHsgV29vQ29tbWVyY2VDbGllbnQgfSBmcm9tICcuLi8uLi8uLi8uLi9saWIvd29vY29tbWVyY2UnXHJcblxyXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gUE9TVChyZXF1ZXN0OiBOZXh0UmVxdWVzdCkge1xyXG4gIHRyeSB7XHJcbiAgICBjb25zdCB7IHNlYXJjaFBhcmFtcyB9ID0gbmV3IFVSTChyZXF1ZXN0LnVybClcclxuICAgIGNvbnN0IHNob3BJZCA9IHNlYXJjaFBhcmFtcy5nZXQoJ3Nob3BJZCcpXHJcbiAgICBjb25zdCBiYXRjaFNpemUgPSBwYXJzZUludChzZWFyY2hQYXJhbXMuZ2V0KCdiYXRjaFNpemUnKSB8fCAnNTAnKVxyXG4gICAgY29uc3QgbWF4UHJvZHVjdHMgPSBwYXJzZUludChzZWFyY2hQYXJhbXMuZ2V0KCdtYXhQcm9kdWN0cycpIHx8ICc1MDAnKVxyXG5cclxuICAgIGlmICghc2hvcElkKSB7XHJcbiAgICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbih7IGVycm9yOiAnU2hvcCBJRCBpcyByZXF1aXJlZCcgfSwgeyBzdGF0dXM6IDQwMCB9KVxyXG4gICAgfVxyXG5cclxuICAgIC8vIEdldCBzaG9wIGRldGFpbHNcclxuICAgIGNvbnN0IFtzaG9wXSA9IGF3YWl0IGRiXHJcbiAgICAgIC5zZWxlY3QoKVxyXG4gICAgICAuZnJvbShzaG9wcylcclxuICAgICAgLndoZXJlKGVxKHNob3BzLmlkLCBwYXJzZUludChzaG9wSWQpKSlcclxuICAgICAgLmxpbWl0KDEpXHJcblxyXG4gICAgaWYgKCFzaG9wKSB7XHJcbiAgICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbih7IGVycm9yOiAnU2hvcCBub3QgZm91bmQnIH0sIHsgc3RhdHVzOiA0MDQgfSlcclxuICAgIH1cclxuXHJcbiAgICAvLyBJbml0aWFsaXplIFdvb0NvbW1lcmNlIGNsaWVudFxyXG4gICAgY29uc3Qgd29vQ2xpZW50ID0gbmV3IFdvb0NvbW1lcmNlQ2xpZW50KHNob3ApXHJcblxyXG4gICAgLy8gVGVzdCBjb25uZWN0aW9uIGZpcnN0XHJcbiAgICB0cnkge1xyXG4gICAgICBhd2FpdCB3b29DbGllbnQudGVzdENvbm5lY3Rpb24oKVxyXG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgY29uc29sZS5lcnJvcignV29vQ29tbWVyY2UgY29ubmVjdGlvbiBmYWlsZWQ6JywgZXJyb3IpXHJcbiAgICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbihcclxuICAgICAgICB7IGVycm9yOiAnRmFpbGVkIHRvIGNvbm5lY3QgdG8gV29vQ29tbWVyY2Ugc3RvcmUnIH0sXHJcbiAgICAgICAgeyBzdGF0dXM6IDQwMCB9XHJcbiAgICAgIClcclxuICAgIH1cclxuXHJcbiAgICBsZXQgcGFnZSA9IDFcclxuICAgIGxldCB0b3RhbFByb2R1Y3RzID0gMFxyXG4gICAgbGV0IHN5bmNlZFByb2R1Y3RzID0gMFxyXG4gICAgbGV0IHVwZGF0ZWRQcm9kdWN0cyA9IDBcclxuICAgIGxldCBwcm9jZXNzZWRQcm9kdWN0cyA9IDBcclxuXHJcbiAgICB3aGlsZSAocHJvY2Vzc2VkUHJvZHVjdHMgPCBtYXhQcm9kdWN0cykge1xyXG4gICAgICB0cnkge1xyXG4gICAgICAgIGNvbnN0IHJlbWFpbmluZ1Byb2R1Y3RzID0gbWF4UHJvZHVjdHMgLSBwcm9jZXNzZWRQcm9kdWN0c1xyXG4gICAgICAgIGNvbnN0IGN1cnJlbnRCYXRjaFNpemUgPSBNYXRoLm1pbihiYXRjaFNpemUsIHJlbWFpbmluZ1Byb2R1Y3RzKVxyXG5cclxuICAgICAgICAvLyBGZXRjaCBwcm9kdWN0cyBmcm9tIFdvb0NvbW1lcmNlXHJcbiAgICAgICAgY29uc3QgeyBwcm9kdWN0czogd29vUHJvZHVjdHMgfSA9IGF3YWl0IHdvb0NsaWVudC5nZXRQcm9kdWN0cyh7XHJcbiAgICAgICAgICBwYWdlLFxyXG4gICAgICAgICAgcGVyX3BhZ2U6IGN1cnJlbnRCYXRjaFNpemUsXHJcbiAgICAgICAgICBzdGF0dXM6ICdwdWJsaXNoJywgLy8gT25seSBnZXQgcHVibGlzaGVkIHByb2R1Y3RzIGZvciBiZXR0ZXIgcGVyZm9ybWFuY2VcclxuICAgICAgICB9KVxyXG5cclxuICAgICAgICBpZiAoIXdvb1Byb2R1Y3RzIHx8IHdvb1Byb2R1Y3RzLmxlbmd0aCA9PT0gMCkge1xyXG4gICAgICAgICAgYnJlYWsgLy8gTm8gbW9yZSBwcm9kdWN0c1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgdG90YWxQcm9kdWN0cyArPSB3b29Qcm9kdWN0cy5sZW5ndGhcclxuICAgICAgICBwcm9jZXNzZWRQcm9kdWN0cyArPSB3b29Qcm9kdWN0cy5sZW5ndGhcclxuXHJcbiAgICAgICAgLy8gUHJvY2VzcyBlYWNoIHByb2R1Y3RcclxuICAgICAgICBmb3IgKGNvbnN0IHdvb1Byb2R1Y3Qgb2Ygd29vUHJvZHVjdHMpIHtcclxuICAgICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgIC8vIENoZWNrIGlmIHByb2R1Y3QgYWxyZWFkeSBleGlzdHNcclxuICAgICAgICAgICAgY29uc3QgW2V4aXN0aW5nUHJvZHVjdF0gPSBhd2FpdCBkYlxyXG4gICAgICAgICAgICAgIC5zZWxlY3QoKVxyXG4gICAgICAgICAgICAgIC5mcm9tKHByb2R1Y3RzKVxyXG4gICAgICAgICAgICAgIC53aGVyZShlcShwcm9kdWN0cy53b29JZCwgd29vUHJvZHVjdC5pZCkpXHJcbiAgICAgICAgICAgICAgLmxpbWl0KDEpXHJcblxyXG4gICAgICAgICAgICBjb25zdCBwcm9kdWN0RGF0YSA9IHtcclxuICAgICAgICAgICAgICBzaG9wSWQ6IHBhcnNlSW50KHNob3BJZCksXHJcbiAgICAgICAgICAgICAgd29vSWQ6IHdvb1Byb2R1Y3QuaWQsXHJcbiAgICAgICAgICAgICAgbmFtZTogd29vUHJvZHVjdC5uYW1lLFxyXG4gICAgICAgICAgICAgIHNsdWc6IHdvb1Byb2R1Y3Quc2x1ZyxcclxuICAgICAgICAgICAgICB0eXBlOiB3b29Qcm9kdWN0LnR5cGUsXHJcbiAgICAgICAgICAgICAgc3RhdHVzOiB3b29Qcm9kdWN0LnN0YXR1cyxcclxuICAgICAgICAgICAgICBza3U6IHdvb1Byb2R1Y3Quc2t1IHx8ICcnLFxyXG4gICAgICAgICAgICAgIGRlc2NyaXB0aW9uOiB3b29Qcm9kdWN0LmRlc2NyaXB0aW9uIHx8ICcnLFxyXG4gICAgICAgICAgICAgIHNob3J0RGVzY3JpcHRpb246IHdvb1Byb2R1Y3Quc2hvcnRfZGVzY3JpcHRpb24gfHwgJycsXHJcbiAgICAgICAgICAgICAgcHJpY2U6IHdvb1Byb2R1Y3QucHJpY2UgfHwgbnVsbCxcclxuICAgICAgICAgICAgICByZWd1bGFyUHJpY2U6IHdvb1Byb2R1Y3QucmVndWxhcl9wcmljZSB8fCBudWxsLFxyXG4gICAgICAgICAgICAgIHNhbGVQcmljZTogd29vUHJvZHVjdC5zYWxlX3ByaWNlIHx8IG51bGwsXHJcbiAgICAgICAgICAgICAgb25TYWxlOiB3b29Qcm9kdWN0Lm9uX3NhbGUgfHwgZmFsc2UsXHJcbiAgICAgICAgICAgICAgcHVyY2hhc2FibGU6IHdvb1Byb2R1Y3QucHVyY2hhc2FibGUgIT09IGZhbHNlLFxyXG4gICAgICAgICAgICAgIHRvdGFsU2FsZXM6IHdvb1Byb2R1Y3QudG90YWxfc2FsZXMgfHwgMCxcclxuICAgICAgICAgICAgICB2aXJ0dWFsOiB3b29Qcm9kdWN0LnZpcnR1YWwgfHwgZmFsc2UsXHJcbiAgICAgICAgICAgICAgZG93bmxvYWRhYmxlOiB3b29Qcm9kdWN0LmRvd25sb2FkYWJsZSB8fCBmYWxzZSxcclxuICAgICAgICAgICAgICBkb3dubG9hZHM6IHdvb1Byb2R1Y3QuZG93bmxvYWRzID8gSlNPTi5zdHJpbmdpZnkod29vUHJvZHVjdC5kb3dubG9hZHMpIDogbnVsbCxcclxuICAgICAgICAgICAgICBkb3dubG9hZExpbWl0OiB3b29Qcm9kdWN0LmRvd25sb2FkX2xpbWl0IHx8IG51bGwsXHJcbiAgICAgICAgICAgICAgZG93bmxvYWRFeHBpcnk6IHdvb1Byb2R1Y3QuZG93bmxvYWRfZXhwaXJ5IHx8IG51bGwsXHJcbiAgICAgICAgICAgICAgZXh0ZXJuYWxVcmw6IHdvb1Byb2R1Y3QuZXh0ZXJuYWxfdXJsIHx8IG51bGwsXHJcbiAgICAgICAgICAgICAgYnV0dG9uVGV4dDogd29vUHJvZHVjdC5idXR0b25fdGV4dCB8fCBudWxsLFxyXG4gICAgICAgICAgICAgIHRheFN0YXR1czogd29vUHJvZHVjdC50YXhfc3RhdHVzIHx8ICd0YXhhYmxlJyxcclxuICAgICAgICAgICAgICB0YXhDbGFzczogd29vUHJvZHVjdC50YXhfY2xhc3MgfHwgbnVsbCxcclxuICAgICAgICAgICAgICBzdG9ja1N0YXR1czogd29vUHJvZHVjdC5zdG9ja19zdGF0dXMgfHwgJ2luc3RvY2snLFxyXG4gICAgICAgICAgICAgIHN0b2NrUXVhbnRpdHk6IHdvb1Byb2R1Y3Quc3RvY2tfcXVhbnRpdHkgfHwgbnVsbCxcclxuICAgICAgICAgICAgICBtYW5hZ2VTdG9jazogd29vUHJvZHVjdC5tYW5hZ2Vfc3RvY2sgfHwgZmFsc2UsXHJcbiAgICAgICAgICAgICAgYmFja29yZGVyczogd29vUHJvZHVjdC5iYWNrb3JkZXJzIHx8ICdubycsXHJcbiAgICAgICAgICAgICAgYmFja29yZGVyc0FsbG93ZWQ6IHdvb1Byb2R1Y3QuYmFja29yZGVyc19hbGxvd2VkIHx8IGZhbHNlLFxyXG4gICAgICAgICAgICAgIGJhY2tvcmRlcmVkOiB3b29Qcm9kdWN0LmJhY2tvcmRlcmVkIHx8IGZhbHNlLFxyXG4gICAgICAgICAgICAgIGxvd1N0b2NrQW1vdW50OiB3b29Qcm9kdWN0Lmxvd19zdG9ja19hbW91bnQgfHwgbnVsbCxcclxuICAgICAgICAgICAgICBzb2xkSW5kaXZpZHVhbGx5OiB3b29Qcm9kdWN0LnNvbGRfaW5kaXZpZHVhbGx5IHx8IGZhbHNlLFxyXG4gICAgICAgICAgICAgIHdlaWdodDogd29vUHJvZHVjdC53ZWlnaHQgfHwgbnVsbCxcclxuICAgICAgICAgICAgICBkaW1lbnNpb25zOiB3b29Qcm9kdWN0LmRpbWVuc2lvbnMgPyBKU09OLnN0cmluZ2lmeSh3b29Qcm9kdWN0LmRpbWVuc2lvbnMpIDogbnVsbCxcclxuICAgICAgICAgICAgICBzaGlwcGluZ0NsYXNzOiB3b29Qcm9kdWN0LnNoaXBwaW5nX2NsYXNzIHx8IG51bGwsXHJcbiAgICAgICAgICAgICAgc2hpcHBpbmdDbGFzc0lkOiB3b29Qcm9kdWN0LnNoaXBwaW5nX2NsYXNzX2lkIHx8IG51bGwsXHJcbiAgICAgICAgICAgICAgLy8gVW5kZ8OlIGF0IHNlbmRlIGxlbmd0aCwgd2lkdGggb2cgaGVpZ2h0IGRpcmVrdGVcclxuICAgICAgICAgICAgICAvLyBEZSBla3Npc3RlcmVyIGkgZGF0YWJhc2VuIG1lbiBlciBpa2tlIG1lZCBpIHNjaGVtYS50c1xyXG4gICAgICAgICAgICAgIGltYWdlczogd29vUHJvZHVjdC5pbWFnZXMgPyBKU09OLnN0cmluZ2lmeSh3b29Qcm9kdWN0LmltYWdlcykgOiBudWxsLFxyXG4gICAgICAgICAgICAgIGNhdGVnb3JpZXM6IHdvb1Byb2R1Y3QuY2F0ZWdvcmllcyA/IEpTT04uc3RyaW5naWZ5KHdvb1Byb2R1Y3QuY2F0ZWdvcmllcykgOiBudWxsLFxyXG4gICAgICAgICAgICAgIHRhZ3M6IHdvb1Byb2R1Y3QudGFncyA/IEpTT04uc3RyaW5naWZ5KHdvb1Byb2R1Y3QudGFncykgOiBudWxsLFxyXG4gICAgICAgICAgICAgIGF0dHJpYnV0ZXM6IHdvb1Byb2R1Y3QuYXR0cmlidXRlcyA/IEpTT04uc3RyaW5naWZ5KHdvb1Byb2R1Y3QuYXR0cmlidXRlcykgOiBudWxsLFxyXG4gICAgICAgICAgICAgIGRhdGVDcmVhdGVkOiBuZXcgRGF0ZSh3b29Qcm9kdWN0LmRhdGVfY3JlYXRlZCksXHJcbiAgICAgICAgICAgICAgZGF0ZU1vZGlmaWVkOiBuZXcgRGF0ZSh3b29Qcm9kdWN0LmRhdGVfbW9kaWZpZWQpLFxyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBpZiAoZXhpc3RpbmdQcm9kdWN0KSB7XHJcbiAgICAgICAgICAgICAgLy8gVXBkYXRlIGV4aXN0aW5nIHByb2R1Y3RcclxuICAgICAgICAgICAgICBhd2FpdCBkYlxyXG4gICAgICAgICAgICAgICAgLnVwZGF0ZShwcm9kdWN0cylcclxuICAgICAgICAgICAgICAgIC5zZXQoe1xyXG4gICAgICAgICAgICAgICAgICAuLi5wcm9kdWN0RGF0YSxcclxuICAgICAgICAgICAgICAgICAgdXBkYXRlZEF0OiBuZXcgRGF0ZSgpLFxyXG4gICAgICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgICAgIC53aGVyZShlcShwcm9kdWN0cy5pZCwgZXhpc3RpbmdQcm9kdWN0LmlkKSlcclxuICAgICAgICAgICAgICB1cGRhdGVkUHJvZHVjdHMrK1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgIC8vIEluc2VydCBuZXcgcHJvZHVjdFxyXG4gICAgICAgICAgICAgIGNvbnN0IFtuZXdQcm9kdWN0XSA9IGF3YWl0IGRiXHJcbiAgICAgICAgICAgICAgICAuaW5zZXJ0KHByb2R1Y3RzKVxyXG4gICAgICAgICAgICAgICAgLnZhbHVlcyhwcm9kdWN0RGF0YSlcclxuICAgICAgICAgICAgICAgIC5yZXR1cm5pbmcoKVxyXG5cclxuICAgICAgICAgICAgICBzeW5jZWRQcm9kdWN0cysrXHJcblxyXG4gICAgICAgICAgICAgIC8vIFN5bmMgdmFyaWF0aW9ucyBpZiBpdCdzIGEgdmFyaWFibGUgcHJvZHVjdFxyXG4gICAgICAgICAgICAgIGlmICh3b29Qcm9kdWN0LnR5cGUgPT09ICd2YXJpYWJsZScgJiYgd29vUHJvZHVjdC52YXJpYXRpb25zICYmIHdvb1Byb2R1Y3QudmFyaWF0aW9ucy5sZW5ndGggPiAwKSB7XHJcbiAgICAgICAgICAgICAgICBmb3IgKGNvbnN0IHZhcmlhdGlvbklkIG9mIHdvb1Byb2R1Y3QudmFyaWF0aW9ucykge1xyXG4gICAgICAgICAgICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHZhcmlhdGlvbiA9IGF3YWl0IHdvb0NsaWVudC5nZXRWYXJpYXRpb24od29vUHJvZHVjdC5pZCwgdmFyaWF0aW9uSWQpXHJcbiAgICAgICAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICAgICAgICAgYXdhaXQgZGIuaW5zZXJ0KHZhcmlhdGlvbnMpLnZhbHVlcyh7XHJcbiAgICAgICAgICAgICAgICAgICAgICBzaG9wSWQ6IHBhcnNlSW50KHNob3BJZCksXHJcbiAgICAgICAgICAgICAgICAgICAgICB3b29JZDogdmFyaWF0aW9uLmlkLFxyXG4gICAgICAgICAgICAgICAgICAgICAgd29vUGFyZW50SWQ6IHdvb1Byb2R1Y3QuaWQsXHJcbiAgICAgICAgICAgICAgICAgICAgICBwcm9kdWN0SWQ6IG5ld1Byb2R1Y3QuaWQsXHJcbiAgICAgICAgICAgICAgICAgICAgICBuYW1lOiB2YXJpYXRpb24ubmFtZSB8fCBgJHt3b29Qcm9kdWN0Lm5hbWV9IC0gVmFyaWFudGAsXHJcbiAgICAgICAgICAgICAgICAgICAgICBzbHVnOiB2YXJpYXRpb24ucGVybWFsaW5rID8gdmFyaWF0aW9uLnBlcm1hbGluay5zcGxpdCgnLycpLnBvcCgpIHx8ICcnIDogJycsXHJcbiAgICAgICAgICAgICAgICAgICAgICBza3U6IHZhcmlhdGlvbi5za3UgfHwgJycsXHJcbiAgICAgICAgICAgICAgICAgICAgICBzdGF0dXM6IHZhcmlhdGlvbi5zdGF0dXMgfHwgJ3B1Ymxpc2gnLFxyXG4gICAgICAgICAgICAgICAgICAgICAgcHJpY2U6IHZhcmlhdGlvbi5wcmljZSB8fCBudWxsLFxyXG4gICAgICAgICAgICAgICAgICAgICAgcmVndWxhclByaWNlOiB2YXJpYXRpb24ucmVndWxhcl9wcmljZSB8fCBudWxsLFxyXG4gICAgICAgICAgICAgICAgICAgICAgc2FsZVByaWNlOiB2YXJpYXRpb24uc2FsZV9wcmljZSB8fCBudWxsLFxyXG4gICAgICAgICAgICAgICAgICAgICAgb25TYWxlOiB2YXJpYXRpb24ub25fc2FsZSB8fCBmYWxzZSxcclxuICAgICAgICAgICAgICAgICAgICAgIHN0b2NrU3RhdHVzOiB2YXJpYXRpb24uc3RvY2tfc3RhdHVzIHx8ICdpbnN0b2NrJyxcclxuICAgICAgICAgICAgICAgICAgICAgIHN0b2NrUXVhbnRpdHk6IHZhcmlhdGlvbi5zdG9ja19xdWFudGl0eSB8fCBudWxsLFxyXG4gICAgICAgICAgICAgICAgICAgICAgbWFuYWdlU3RvY2s6IHZhcmlhdGlvbi5tYW5hZ2Vfc3RvY2sgfHwgZmFsc2UsXHJcbiAgICAgICAgICAgICAgICAgICAgICBiYWNrb3JkZXJzOiB2YXJpYXRpb24uYmFja29yZGVycyB8fCAnbm8nLFxyXG4gICAgICAgICAgICAgICAgICAgICAgYmFja29yZGVyc0FsbG93ZWQ6IHZhcmlhdGlvbi5iYWNrb3JkZXJzX2FsbG93ZWQgfHwgZmFsc2UsXHJcbiAgICAgICAgICAgICAgICAgICAgICBiYWNrb3JkZXJlZDogdmFyaWF0aW9uLmJhY2tvcmRlcmVkIHx8IGZhbHNlLFxyXG4gICAgICAgICAgICAgICAgICAgICAgdmlydHVhbDogdmFyaWF0aW9uLnZpcnR1YWwgfHwgZmFsc2UsXHJcbiAgICAgICAgICAgICAgICAgICAgICBkb3dubG9hZGFibGU6IHZhcmlhdGlvbi5kb3dubG9hZGFibGUgfHwgZmFsc2UsXHJcbiAgICAgICAgICAgICAgICAgICAgICBkb3dubG9hZExpbWl0OiB2YXJpYXRpb24uZG93bmxvYWRfbGltaXQgfHwgbnVsbCxcclxuICAgICAgICAgICAgICAgICAgICAgIGRvd25sb2FkRXhwaXJ5OiB2YXJpYXRpb24uZG93bmxvYWRfZXhwaXJ5IHx8IG51bGwsXHJcbiAgICAgICAgICAgICAgICAgICAgICB0YXhTdGF0dXM6IHZhcmlhdGlvbi50YXhfc3RhdHVzIHx8ICd0YXhhYmxlJyxcclxuICAgICAgICAgICAgICAgICAgICAgIHRheENsYXNzOiB2YXJpYXRpb24udGF4X2NsYXNzIHx8IG51bGwsXHJcbiAgICAgICAgICAgICAgICAgICAgICAvLyBsb3dTdG9ja0Ftb3VudCBmaW5kZXMgaWtrZSBpIHZhcmlhdGlvbnMgdGFiZWxsZW5cclxuICAgICAgICAgICAgICAgICAgICAgIHdlaWdodDogdmFyaWF0aW9uLndlaWdodCB8fCBudWxsLFxyXG4gICAgICAgICAgICAgICAgICAgICAgZGltZW5zaW9uczogdmFyaWF0aW9uLmRpbWVuc2lvbnMgPyBKU09OLnN0cmluZ2lmeSh2YXJpYXRpb24uZGltZW5zaW9ucykgOiBudWxsLFxyXG4gICAgICAgICAgICAgICAgICAgICAgc2hpcHBpbmdDbGFzczogdmFyaWF0aW9uLnNoaXBwaW5nX2NsYXNzIHx8IG51bGwsXHJcbiAgICAgICAgICAgICAgICAgICAgICBzaGlwcGluZ0NsYXNzSWQ6IHZhcmlhdGlvbi5zaGlwcGluZ19jbGFzc19pZCB8fCBudWxsLFxyXG4gICAgICAgICAgICAgICAgICAgICAgLy8gVW5kZ8OlIGF0IHNlbmRlIGxlbmd0aCwgd2lkdGggb2cgaGVpZ2h0IGRpcmVrdGVcclxuICAgICAgICAgICAgICAgICAgICAgIC8vIERlIGVrc2lzdGVyZXIgaSBkYXRhYmFzZW4gbWVuIGVyIGlra2UgbWVkIGkgc2NoZW1hLnRzXHJcbiAgICAgICAgICAgICAgICAgICAgICBpbWFnZTogdmFyaWF0aW9uLmltYWdlID8gSlNPTi5zdHJpbmdpZnkodmFyaWF0aW9uLmltYWdlKSA6IG51bGwsXHJcbiAgICAgICAgICAgICAgICAgICAgICBhdHRyaWJ1dGVzOiB2YXJpYXRpb24uYXR0cmlidXRlcyA/IEpTT04uc3RyaW5naWZ5KHZhcmlhdGlvbi5hdHRyaWJ1dGVzKSA6IG51bGwsXHJcbiAgICAgICAgICAgICAgICAgICAgICBkYXRlQ3JlYXRlZDogbmV3IERhdGUodmFyaWF0aW9uLmRhdGVfY3JlYXRlZCksXHJcbiAgICAgICAgICAgICAgICAgICAgICBkYXRlTW9kaWZpZWQ6IG5ldyBEYXRlKHZhcmlhdGlvbi5kYXRlX21vZGlmaWVkKSxcclxuICAgICAgICAgICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAgICAgICB9IGNhdGNoICh2YXJpYXRpb25FcnJvcikge1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoYEVycm9yIHN5bmNpbmcgdmFyaWF0aW9uICR7dmFyaWF0aW9uSWR9OmAsIHZhcmlhdGlvbkVycm9yKVxyXG4gICAgICAgICAgICAgICAgICAgIC8vIENvbnRpbnVlIHdpdGggbmV4dCB2YXJpYXRpb25cclxuICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgfSBjYXRjaCAocHJvZHVjdEVycm9yKSB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoYEVycm9yIHByb2Nlc3NpbmcgcHJvZHVjdCAke3dvb1Byb2R1Y3QuaWR9OmAsIHByb2R1Y3RFcnJvcilcclxuICAgICAgICAgICAgLy8gQ29udGludWUgd2l0aCBuZXh0IHByb2R1Y3RcclxuICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHBhZ2UrK1xyXG5cclxuICAgICAgICAvLyBBZGQgYSBsb25nZXIgZGVsYXkgdG8gYXZvaWQgb3ZlcndoZWxtaW5nIHRoZSBXb29Db21tZXJjZSBBUElcclxuICAgICAgICBhd2FpdCBuZXcgUHJvbWlzZShyZXNvbHZlID0+IHNldFRpbWVvdXQocmVzb2x2ZSwgMTAwMCkpXHJcblxyXG4gICAgICAgIC8vIExvZyBwcm9ncmVzcyBldmVyeSAxMDAgcHJvZHVjdHNcclxuICAgICAgICBpZiAocHJvY2Vzc2VkUHJvZHVjdHMgJSAxMDAgPT09IDApIHtcclxuICAgICAgICAgIGNvbnNvbGUubG9nKGBQcm9jZXNzZWQgJHtwcm9jZXNzZWRQcm9kdWN0c30vJHttYXhQcm9kdWN0c30gcHJvZHVjdHMuLi5gKVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgIH0gY2F0Y2ggKHBhZ2VFcnJvcikge1xyXG4gICAgICAgIGNvbnNvbGUuZXJyb3IoYEVycm9yIGZldGNoaW5nIHBhZ2UgJHtwYWdlfTpgLCBwYWdlRXJyb3IpXHJcbiAgICAgICAgYnJlYWtcclxuICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIC8vIFVwZGF0ZSBzaG9wJ3MgbGFzdCBwaW5nIChzaW5jZSB3ZSBkb24ndCBoYXZlIGxhc3RTeW5jIGZpZWxkKVxyXG4gICAgYXdhaXQgZGJcclxuICAgICAgLnVwZGF0ZShzaG9wcylcclxuICAgICAgLnNldCh7XHJcbiAgICAgICAgbGFzdFBpbmc6IG5ldyBEYXRlKCksXHJcbiAgICAgICAgc3RhdHVzOiAnb25saW5lJyxcclxuICAgICAgICB1cGRhdGVkQXQ6IG5ldyBEYXRlKCksXHJcbiAgICAgIH0pXHJcbiAgICAgIC53aGVyZShlcShzaG9wcy5pZCwgcGFyc2VJbnQoc2hvcElkKSkpXHJcblxyXG4gICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKHtcclxuICAgICAgc3VjY2VzczogdHJ1ZSxcclxuICAgICAgbWVzc2FnZTogYFByb2R1Y3RzIHN5bmNocm9uaXplZCBzdWNjZXNzZnVsbHkgKGxpbWl0ZWQgdG8gJHttYXhQcm9kdWN0c30gcHJvZHVjdHMpYCxcclxuICAgICAgc3RhdHM6IHtcclxuICAgICAgICB0b3RhbFByb2R1Y3RzLFxyXG4gICAgICAgIHN5bmNlZFByb2R1Y3RzLFxyXG4gICAgICAgIHVwZGF0ZWRQcm9kdWN0cyxcclxuICAgICAgICBwcm9jZXNzZWRQcm9kdWN0cyxcclxuICAgICAgICBtYXhQcm9kdWN0cyxcclxuICAgICAgICBoYXNNb3JlOiBwcm9jZXNzZWRQcm9kdWN0cyA+PSBtYXhQcm9kdWN0cyxcclxuICAgICAgfSxcclxuICAgIH0pXHJcblxyXG4gIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICBjb25zb2xlLmVycm9yKCdFcnJvciBzeW5jaHJvbml6aW5nIHByb2R1Y3RzOicsIGVycm9yKVxyXG4gICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKFxyXG4gICAgICB7IGVycm9yOiAnRmFpbGVkIHRvIHN5bmNocm9uaXplIHByb2R1Y3RzJyB9LFxyXG4gICAgICB7IHN0YXR1czogNTAwIH1cclxuICAgIClcclxuICB9XHJcbn1cclxuIl0sIm5hbWVzIjpbIk5leHRSZXNwb25zZSIsImRiIiwicHJvZHVjdHMiLCJ2YXJpYXRpb25zIiwic2hvcHMiLCJlcSIsIldvb0NvbW1lcmNlQ2xpZW50IiwiUE9TVCIsInJlcXVlc3QiLCJzZWFyY2hQYXJhbXMiLCJVUkwiLCJ1cmwiLCJzaG9wSWQiLCJnZXQiLCJiYXRjaFNpemUiLCJwYXJzZUludCIsIm1heFByb2R1Y3RzIiwianNvbiIsImVycm9yIiwic3RhdHVzIiwic2hvcCIsInNlbGVjdCIsImZyb20iLCJ3aGVyZSIsImlkIiwibGltaXQiLCJ3b29DbGllbnQiLCJ0ZXN0Q29ubmVjdGlvbiIsImNvbnNvbGUiLCJwYWdlIiwidG90YWxQcm9kdWN0cyIsInN5bmNlZFByb2R1Y3RzIiwidXBkYXRlZFByb2R1Y3RzIiwicHJvY2Vzc2VkUHJvZHVjdHMiLCJyZW1haW5pbmdQcm9kdWN0cyIsImN1cnJlbnRCYXRjaFNpemUiLCJNYXRoIiwibWluIiwid29vUHJvZHVjdHMiLCJnZXRQcm9kdWN0cyIsInBlcl9wYWdlIiwibGVuZ3RoIiwid29vUHJvZHVjdCIsImV4aXN0aW5nUHJvZHVjdCIsIndvb0lkIiwicHJvZHVjdERhdGEiLCJuYW1lIiwic2x1ZyIsInR5cGUiLCJza3UiLCJkZXNjcmlwdGlvbiIsInNob3J0RGVzY3JpcHRpb24iLCJzaG9ydF9kZXNjcmlwdGlvbiIsInByaWNlIiwicmVndWxhclByaWNlIiwicmVndWxhcl9wcmljZSIsInNhbGVQcmljZSIsInNhbGVfcHJpY2UiLCJvblNhbGUiLCJvbl9zYWxlIiwicHVyY2hhc2FibGUiLCJ0b3RhbFNhbGVzIiwidG90YWxfc2FsZXMiLCJ2aXJ0dWFsIiwiZG93bmxvYWRhYmxlIiwiZG93bmxvYWRzIiwiSlNPTiIsInN0cmluZ2lmeSIsImRvd25sb2FkTGltaXQiLCJkb3dubG9hZF9saW1pdCIsImRvd25sb2FkRXhwaXJ5IiwiZG93bmxvYWRfZXhwaXJ5IiwiZXh0ZXJuYWxVcmwiLCJleHRlcm5hbF91cmwiLCJidXR0b25UZXh0IiwiYnV0dG9uX3RleHQiLCJ0YXhTdGF0dXMiLCJ0YXhfc3RhdHVzIiwidGF4Q2xhc3MiLCJ0YXhfY2xhc3MiLCJzdG9ja1N0YXR1cyIsInN0b2NrX3N0YXR1cyIsInN0b2NrUXVhbnRpdHkiLCJzdG9ja19xdWFudGl0eSIsIm1hbmFnZVN0b2NrIiwibWFuYWdlX3N0b2NrIiwiYmFja29yZGVycyIsImJhY2tvcmRlcnNBbGxvd2VkIiwiYmFja29yZGVyc19hbGxvd2VkIiwiYmFja29yZGVyZWQiLCJsb3dTdG9ja0Ftb3VudCIsImxvd19zdG9ja19hbW91bnQiLCJzb2xkSW5kaXZpZHVhbGx5Iiwic29sZF9pbmRpdmlkdWFsbHkiLCJ3ZWlnaHQiLCJkaW1lbnNpb25zIiwic2hpcHBpbmdDbGFzcyIsInNoaXBwaW5nX2NsYXNzIiwic2hpcHBpbmdDbGFzc0lkIiwic2hpcHBpbmdfY2xhc3NfaWQiLCJpbWFnZXMiLCJjYXRlZ29yaWVzIiwidGFncyIsImF0dHJpYnV0ZXMiLCJkYXRlQ3JlYXRlZCIsIkRhdGUiLCJkYXRlX2NyZWF0ZWQiLCJkYXRlTW9kaWZpZWQiLCJkYXRlX21vZGlmaWVkIiwidXBkYXRlIiwic2V0IiwidXBkYXRlZEF0IiwibmV3UHJvZHVjdCIsImluc2VydCIsInZhbHVlcyIsInJldHVybmluZyIsInZhcmlhdGlvbklkIiwidmFyaWF0aW9uIiwiZ2V0VmFyaWF0aW9uIiwid29vUGFyZW50SWQiLCJwcm9kdWN0SWQiLCJwZXJtYWxpbmsiLCJzcGxpdCIsInBvcCIsImltYWdlIiwidmFyaWF0aW9uRXJyb3IiLCJwcm9kdWN0RXJyb3IiLCJQcm9taXNlIiwicmVzb2x2ZSIsInNldFRpbWVvdXQiLCJsb2ciLCJwYWdlRXJyb3IiLCJsYXN0UGluZyIsInN1Y2Nlc3MiLCJtZXNzYWdlIiwic3RhdHMiLCJoYXNNb3JlIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./src/app/api/products/sync/route.ts\n");

/***/ }),

/***/ "(rsc)/./src/lib/db/index.ts":
/*!*****************************!*\
  !*** ./src/lib/db/index.ts ***!
  \*****************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   db: () => (/* binding */ db),\n/* harmony export */   schema: () => (/* reexport module object */ _schema__WEBPACK_IMPORTED_MODULE_1__)\n/* harmony export */ });\n/* harmony import */ var drizzle_orm_node_postgres__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! drizzle-orm/node-postgres */ \"(rsc)/./node_modules/drizzle-orm/node-postgres/driver.js\");\n/* harmony import */ var pg__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! pg */ \"pg\");\n/* harmony import */ var pg__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(pg__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _schema__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./schema */ \"(rsc)/./src/lib/db/schema.ts\");\n\n\n\nconst pool = new pg__WEBPACK_IMPORTED_MODULE_0__.Pool({\n    connectionString: process.env.DATABASE_URL || \"postgresql://postgres:password@localhost:5432/woocommerce_manager\",\n    ssl:  false ? 0 : false,\n    max: 20,\n    idleTimeoutMillis: 30000,\n    connectionTimeoutMillis: 2000\n});\nconst db = (0,drizzle_orm_node_postgres__WEBPACK_IMPORTED_MODULE_2__.drizzle)(pool, {\n    schema: _schema__WEBPACK_IMPORTED_MODULE_1__\n});\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9zcmMvbGliL2RiL2luZGV4LnRzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7OztBQUFtRDtBQUMxQjtBQUNTO0FBRWxDLE1BQU1HLE9BQU8sSUFBSUYsb0NBQUlBLENBQUM7SUFDcEJHLGtCQUFrQkMsUUFBUUMsR0FBRyxDQUFDQyxZQUFZLElBQUk7SUFDOUNDLEtBQUtILE1BQXlCLEdBQWUsQ0FBNkIsR0FBRztJQUM3RUssS0FBSztJQUNMQyxtQkFBbUI7SUFDbkJDLHlCQUF5QjtBQUMzQjtBQUVPLE1BQU1DLEtBQUtiLGtFQUFPQSxDQUFDRyxNQUFNO0lBQUVELE1BQU1BLHNDQUFBQTtBQUFDLEdBQUU7QUFFMUIiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly93b29jb21tZXJjZS1wcm9kdWN0LW1hbmFnZXIvLi9zcmMvbGliL2RiL2luZGV4LnRzPzU4ZDgiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgZHJpenpsZSB9IGZyb20gJ2RyaXp6bGUtb3JtL25vZGUtcG9zdGdyZXMnXHJcbmltcG9ydCB7IFBvb2wgfSBmcm9tICdwZydcclxuaW1wb3J0ICogYXMgc2NoZW1hIGZyb20gJy4vc2NoZW1hJ1xyXG5cclxuY29uc3QgcG9vbCA9IG5ldyBQb29sKHtcclxuICBjb25uZWN0aW9uU3RyaW5nOiBwcm9jZXNzLmVudi5EQVRBQkFTRV9VUkwgfHwgJ3Bvc3RncmVzcWw6Ly9wb3N0Z3JlczpwYXNzd29yZEBsb2NhbGhvc3Q6NTQzMi93b29jb21tZXJjZV9tYW5hZ2VyJyxcclxuICBzc2w6IHByb2Nlc3MuZW52Lk5PREVfRU5WID09PSAncHJvZHVjdGlvbicgPyB7IHJlamVjdFVuYXV0aG9yaXplZDogZmFsc2UgfSA6IGZhbHNlLFxyXG4gIG1heDogMjAsXHJcbiAgaWRsZVRpbWVvdXRNaWxsaXM6IDMwMDAwLFxyXG4gIGNvbm5lY3Rpb25UaW1lb3V0TWlsbGlzOiAyMDAwLFxyXG59KVxyXG5cclxuZXhwb3J0IGNvbnN0IGRiID0gZHJpenpsZShwb29sLCB7IHNjaGVtYSB9KVxyXG5cclxuZXhwb3J0IHsgc2NoZW1hIH1cclxuZXhwb3J0IHR5cGUgRGF0YWJhc2UgPSB0eXBlb2YgZGJcclxuIl0sIm5hbWVzIjpbImRyaXp6bGUiLCJQb29sIiwic2NoZW1hIiwicG9vbCIsImNvbm5lY3Rpb25TdHJpbmciLCJwcm9jZXNzIiwiZW52IiwiREFUQUJBU0VfVVJMIiwic3NsIiwicmVqZWN0VW5hdXRob3JpemVkIiwibWF4IiwiaWRsZVRpbWVvdXRNaWxsaXMiLCJjb25uZWN0aW9uVGltZW91dE1pbGxpcyIsImRiIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./src/lib/db/index.ts\n");

/***/ }),

/***/ "(rsc)/./src/lib/db/schema.ts":
/*!******************************!*\
  !*** ./src/lib/db/schema.ts ***!
  \******************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   importBatches: () => (/* binding */ importBatches),\n/* harmony export */   importBatchesRelations: () => (/* binding */ importBatchesRelations),\n/* harmony export */   importErrors: () => (/* binding */ importErrors),\n/* harmony export */   importErrorsRelations: () => (/* binding */ importErrorsRelations),\n/* harmony export */   productCategories: () => (/* binding */ productCategories),\n/* harmony export */   productCategoriesRelations: () => (/* binding */ productCategoriesRelations),\n/* harmony export */   products: () => (/* binding */ products),\n/* harmony export */   productsRelations: () => (/* binding */ productsRelations),\n/* harmony export */   sessions: () => (/* binding */ sessions),\n/* harmony export */   sessionsRelations: () => (/* binding */ sessionsRelations),\n/* harmony export */   shops: () => (/* binding */ shops),\n/* harmony export */   shopsRelations: () => (/* binding */ shopsRelations),\n/* harmony export */   users: () => (/* binding */ users),\n/* harmony export */   usersRelations: () => (/* binding */ usersRelations),\n/* harmony export */   variations: () => (/* binding */ variations),\n/* harmony export */   variationsRelations: () => (/* binding */ variationsRelations)\n/* harmony export */ });\n/* harmony import */ var drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! drizzle-orm/pg-core */ \"(rsc)/./node_modules/drizzle-orm/pg-core/table.js\");\n/* harmony import */ var drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! drizzle-orm/pg-core */ \"(rsc)/./node_modules/drizzle-orm/pg-core/columns/serial.js\");\n/* harmony import */ var drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! drizzle-orm/pg-core */ \"(rsc)/./node_modules/drizzle-orm/pg-core/columns/varchar.js\");\n/* harmony import */ var drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! drizzle-orm/pg-core */ \"(rsc)/./node_modules/drizzle-orm/pg-core/columns/boolean.js\");\n/* harmony import */ var drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! drizzle-orm/pg-core */ \"(rsc)/./node_modules/drizzle-orm/pg-core/columns/timestamp.js\");\n/* harmony import */ var drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! drizzle-orm/pg-core */ \"(rsc)/./node_modules/drizzle-orm/pg-core/indexes.js\");\n/* harmony import */ var drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! drizzle-orm/pg-core */ \"(rsc)/./node_modules/drizzle-orm/pg-core/columns/integer.js\");\n/* harmony import */ var drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! drizzle-orm/pg-core */ \"(rsc)/./node_modules/drizzle-orm/pg-core/columns/text.js\");\n/* harmony import */ var drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! drizzle-orm/pg-core */ \"(rsc)/./node_modules/drizzle-orm/pg-core/columns/numeric.js\");\n/* harmony import */ var drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! drizzle-orm/pg-core */ \"(rsc)/./node_modules/drizzle-orm/pg-core/columns/jsonb.js\");\n/* harmony import */ var drizzle_orm__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! drizzle-orm */ \"(rsc)/./node_modules/drizzle-orm/relations.js\");\n\n\n/**\r\n * Users for authentication\r\n */ const users = (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_0__.pgTable)(\"users\", {\n    id: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_1__.serial)(\"id\").primaryKey(),\n    email: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_2__.varchar)(\"email\", {\n        length: 255\n    }).notNull().unique(),\n    username: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_2__.varchar)(\"username\", {\n        length: 100\n    }).notNull().unique(),\n    passwordHash: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_2__.varchar)(\"password_hash\", {\n        length: 255\n    }).notNull(),\n    isActive: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_3__.boolean)(\"is_active\").default(true).notNull(),\n    autoSync: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_3__.boolean)(\"auto_sync\").default(true).notNull(),\n    lastLogin: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_4__.timestamp)(\"last_login\"),\n    createdAt: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_4__.timestamp)(\"created_at\").defaultNow().notNull(),\n    updatedAt: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_4__.timestamp)(\"updated_at\").defaultNow().notNull()\n}, (table)=>({\n        emailIdx: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_5__.uniqueIndex)(\"users_email_idx\").on(table.email),\n        usernameIdx: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_5__.uniqueIndex)(\"users_username_idx\").on(table.username)\n    }));\n/**\r\n * User sessions for authentication\r\n */ const sessions = (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_0__.pgTable)(\"sessions\", {\n    id: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_2__.varchar)(\"id\", {\n        length: 255\n    }).primaryKey(),\n    userId: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_6__.integer)(\"user_id\").references(()=>users.id, {\n        onDelete: \"cascade\"\n    }).notNull(),\n    expiresAt: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_4__.timestamp)(\"expires_at\").notNull(),\n    createdAt: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_4__.timestamp)(\"created_at\").defaultNow().notNull()\n}, (table)=>({\n        userIdIdx: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_5__.index)(\"sessions_user_id_idx\").on(table.userId),\n        expiresAtIdx: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_5__.index)(\"sessions_expires_at_idx\").on(table.expiresAt)\n    }));\n/**\r\n * WooCommerce shop connections\r\n */ const shops = (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_0__.pgTable)(\"shops\", {\n    id: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_1__.serial)(\"id\").primaryKey(),\n    userId: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_6__.integer)(\"user_id\").references(()=>users.id, {\n        onDelete: \"cascade\"\n    }).notNull(),\n    name: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_2__.varchar)(\"name\", {\n        length: 255\n    }).notNull(),\n    baseUrl: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_2__.varchar)(\"base_url\", {\n        length: 255\n    }).notNull(),\n    consumerKey: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_2__.varchar)(\"consumer_key\", {\n        length: 255\n    }).notNull(),\n    consumerSecret: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_2__.varchar)(\"consumer_secret\", {\n        length: 255\n    }).notNull(),\n    isActive: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_3__.boolean)(\"is_active\").default(true).notNull(),\n    isDefault: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_3__.boolean)(\"is_default\").default(false).notNull(),\n    lastPing: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_4__.timestamp)(\"last_ping\"),\n    status: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_2__.varchar)(\"status\", {\n        length: 20\n    }).default(\"unknown\"),\n    createdAt: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_4__.timestamp)(\"created_at\").defaultNow().notNull(),\n    updatedAt: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_4__.timestamp)(\"updated_at\").defaultNow().notNull()\n}, (table)=>({\n        userIdIdx: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_5__.index)(\"shops_user_id_idx\").on(table.userId),\n        baseUrlIdx: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_5__.index)(\"shops_base_url_idx\").on(table.baseUrl),\n        statusIdx: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_5__.index)(\"shops_status_idx\").on(table.status)\n    }));\n/**\r\n * Product categories\r\n */ const productCategories = (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_0__.pgTable)(\"product_categories\", {\n    id: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_1__.serial)(\"id\").primaryKey(),\n    shopId: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_6__.integer)(\"shop_id\").references(()=>shops.id, {\n        onDelete: \"cascade\"\n    }).notNull(),\n    wooId: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_6__.integer)(\"woo_id\").notNull(),\n    name: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_2__.varchar)(\"name\", {\n        length: 255\n    }).notNull(),\n    slug: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_2__.varchar)(\"slug\", {\n        length: 255\n    }).notNull(),\n    parentId: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_6__.integer)(\"parent_id\"),\n    description: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_7__.text)(\"description\"),\n    image: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_7__.text)(\"image\"),\n    count: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_6__.integer)(\"count\").default(0),\n    createdAt: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_4__.timestamp)(\"created_at\").defaultNow().notNull(),\n    updatedAt: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_4__.timestamp)(\"updated_at\").defaultNow().notNull()\n}, (table)=>({\n        shopWooIdx: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_5__.uniqueIndex)(\"categories_shop_woo_idx\").on(table.shopId, table.wooId),\n        nameIdx: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_5__.index)(\"categories_name_idx\").on(table.name),\n        slugIdx: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_5__.index)(\"categories_slug_idx\").on(table.slug)\n    }));\n/**\r\n * Products table\r\n */ const products = (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_0__.pgTable)(\"products\", {\n    id: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_1__.serial)(\"id\").primaryKey(),\n    shopId: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_6__.integer)(\"shop_id\").references(()=>shops.id, {\n        onDelete: \"cascade\"\n    }).notNull(),\n    wooId: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_6__.integer)(\"woo_id\").notNull(),\n    sku: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_2__.varchar)(\"sku\", {\n        length: 100\n    }),\n    name: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_2__.varchar)(\"name\", {\n        length: 255\n    }).notNull(),\n    slug: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_2__.varchar)(\"slug\", {\n        length: 255\n    }).notNull(),\n    type: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_2__.varchar)(\"type\", {\n        length: 50\n    }).default(\"simple\"),\n    status: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_2__.varchar)(\"status\", {\n        length: 20\n    }).default(\"publish\"),\n    featured: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_3__.boolean)(\"featured\").default(false),\n    catalogVisibility: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_2__.varchar)(\"catalog_visibility\", {\n        length: 20\n    }).default(\"visible\"),\n    description: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_7__.text)(\"description\"),\n    shortDescription: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_7__.text)(\"short_description\"),\n    price: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_8__.decimal)(\"price\", {\n        precision: 10,\n        scale: 2\n    }),\n    regularPrice: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_8__.decimal)(\"regular_price\", {\n        precision: 10,\n        scale: 2\n    }),\n    salePrice: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_8__.decimal)(\"sale_price\", {\n        precision: 10,\n        scale: 2\n    }),\n    onSale: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_3__.boolean)(\"on_sale\").default(false),\n    purchasable: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_3__.boolean)(\"purchasable\").default(true),\n    totalSales: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_6__.integer)(\"total_sales\").default(0),\n    virtual: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_3__.boolean)(\"virtual\").default(false),\n    downloadable: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_3__.boolean)(\"downloadable\").default(false),\n    downloadLimit: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_6__.integer)(\"download_limit\"),\n    downloadExpiry: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_6__.integer)(\"download_expiry\"),\n    externalUrl: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_7__.text)(\"external_url\"),\n    buttonText: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_2__.varchar)(\"button_text\", {\n        length: 100\n    }),\n    taxStatus: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_2__.varchar)(\"tax_status\", {\n        length: 20\n    }).default(\"taxable\"),\n    taxClass: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_2__.varchar)(\"tax_class\", {\n        length: 50\n    }),\n    manageStock: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_3__.boolean)(\"manage_stock\").default(false),\n    stockQuantity: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_6__.integer)(\"stock_quantity\"),\n    stockStatus: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_2__.varchar)(\"stock_status\", {\n        length: 20\n    }).default(\"instock\"),\n    backorders: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_2__.varchar)(\"backorders\", {\n        length: 20\n    }).default(\"no\"),\n    backordersAllowed: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_3__.boolean)(\"backorders_allowed\").default(false),\n    backordered: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_3__.boolean)(\"backordered\").default(false),\n    lowStockAmount: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_6__.integer)(\"low_stock_amount\"),\n    soldIndividually: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_3__.boolean)(\"sold_individually\").default(false),\n    weight: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_8__.decimal)(\"weight\", {\n        precision: 8,\n        scale: 2\n    }),\n    length: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_8__.decimal)(\"length\", {\n        precision: 8,\n        scale: 2\n    }),\n    width: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_8__.decimal)(\"width\", {\n        precision: 8,\n        scale: 2\n    }),\n    height: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_8__.decimal)(\"height\", {\n        precision: 8,\n        scale: 2\n    }),\n    shippingRequired: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_3__.boolean)(\"shipping_required\").default(true),\n    shippingTaxable: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_3__.boolean)(\"shipping_taxable\").default(true),\n    shippingClass: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_2__.varchar)(\"shipping_class\", {\n        length: 100\n    }),\n    shippingClassId: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_6__.integer)(\"shipping_class_id\"),\n    reviewsAllowed: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_3__.boolean)(\"reviews_allowed\").default(true),\n    averageRating: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_8__.decimal)(\"average_rating\", {\n        precision: 3,\n        scale: 2\n    }).default(\"0\"),\n    ratingCount: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_6__.integer)(\"rating_count\").default(0),\n    relatedIds: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_9__.jsonb)(\"related_ids\"),\n    upsellIds: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_9__.jsonb)(\"upsell_ids\"),\n    crossSellIds: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_9__.jsonb)(\"cross_sell_ids\"),\n    parentId: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_6__.integer)(\"parent_id\"),\n    purchaseNote: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_7__.text)(\"purchase_note\"),\n    categories: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_9__.jsonb)(\"categories\"),\n    tags: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_9__.jsonb)(\"tags\"),\n    images: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_9__.jsonb)(\"images\"),\n    attributes: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_9__.jsonb)(\"attributes\"),\n    defaultAttributes: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_9__.jsonb)(\"default_attributes\"),\n    variations: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_9__.jsonb)(\"variations\"),\n    groupedProducts: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_9__.jsonb)(\"grouped_products\"),\n    menuOrder: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_6__.integer)(\"menu_order\").default(0),\n    metaData: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_9__.jsonb)(\"meta_data\"),\n    createdAt: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_4__.timestamp)(\"created_at\").defaultNow().notNull(),\n    updatedAt: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_4__.timestamp)(\"updated_at\").defaultNow().notNull(),\n    dateCreated: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_4__.timestamp)(\"date_created\"),\n    dateModified: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_4__.timestamp)(\"date_modified\"),\n    dateOnSaleFrom: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_4__.timestamp)(\"date_on_sale_from\"),\n    dateOnSaleTo: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_4__.timestamp)(\"date_on_sale_to\")\n}, (table)=>({\n        shopWooIdx: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_5__.uniqueIndex)(\"products_shop_woo_idx\").on(table.shopId, table.wooId),\n        skuIdx: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_5__.index)(\"products_sku_idx\").on(table.sku),\n        nameIdx: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_5__.index)(\"products_name_idx\").on(table.name),\n        typeIdx: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_5__.index)(\"products_type_idx\").on(table.type),\n        statusIdx: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_5__.index)(\"products_status_idx\").on(table.status),\n        priceIdx: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_5__.index)(\"products_price_idx\").on(table.price),\n        stockStatusIdx: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_5__.index)(\"products_stock_status_idx\").on(table.stockStatus)\n    }));\n/**\r\n * Product variations\r\n */ const variations = (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_0__.pgTable)(\"variations\", {\n    id: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_1__.serial)(\"id\").primaryKey(),\n    shopId: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_6__.integer)(\"shop_id\").references(()=>shops.id, {\n        onDelete: \"cascade\"\n    }).notNull(),\n    productId: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_6__.integer)(\"product_id\").references(()=>products.id, {\n        onDelete: \"cascade\"\n    }).notNull(),\n    wooId: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_6__.integer)(\"woo_id\").notNull(),\n    wooParentId: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_6__.integer)(\"woo_parent_id\").notNull(),\n    name: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_2__.varchar)(\"name\", {\n        length: 255\n    }),\n    slug: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_2__.varchar)(\"slug\", {\n        length: 255\n    }),\n    sku: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_2__.varchar)(\"sku\", {\n        length: 100\n    }),\n    status: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_2__.varchar)(\"status\", {\n        length: 20\n    }).default(\"publish\"),\n    description: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_7__.text)(\"description\"),\n    price: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_8__.decimal)(\"price\", {\n        precision: 10,\n        scale: 2\n    }),\n    regularPrice: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_8__.decimal)(\"regular_price\", {\n        precision: 10,\n        scale: 2\n    }),\n    salePrice: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_8__.decimal)(\"sale_price\", {\n        precision: 10,\n        scale: 2\n    }),\n    onSale: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_3__.boolean)(\"on_sale\").default(false),\n    purchasable: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_3__.boolean)(\"purchasable\").default(true),\n    virtual: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_3__.boolean)(\"virtual\").default(false),\n    downloadable: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_3__.boolean)(\"downloadable\").default(false),\n    downloadLimit: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_6__.integer)(\"download_limit\"),\n    downloadExpiry: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_6__.integer)(\"download_expiry\"),\n    taxStatus: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_2__.varchar)(\"tax_status\", {\n        length: 20\n    }).default(\"taxable\"),\n    taxClass: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_2__.varchar)(\"tax_class\", {\n        length: 50\n    }),\n    manageStock: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_3__.boolean)(\"manage_stock\").default(false),\n    stockQuantity: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_6__.integer)(\"stock_quantity\"),\n    stockStatus: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_2__.varchar)(\"stock_status\", {\n        length: 20\n    }).default(\"instock\"),\n    backorders: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_2__.varchar)(\"backorders\", {\n        length: 20\n    }).default(\"no\"),\n    backordersAllowed: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_3__.boolean)(\"backorders_allowed\").default(false),\n    backordered: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_3__.boolean)(\"backordered\").default(false),\n    weight: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_8__.decimal)(\"weight\", {\n        precision: 8,\n        scale: 2\n    }),\n    dimensions: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_9__.jsonb)(\"dimensions\"),\n    length: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_8__.decimal)(\"length\", {\n        precision: 8,\n        scale: 2\n    }),\n    width: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_8__.decimal)(\"width\", {\n        precision: 8,\n        scale: 2\n    }),\n    height: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_8__.decimal)(\"height\", {\n        precision: 8,\n        scale: 2\n    }),\n    shippingClass: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_2__.varchar)(\"shipping_class\", {\n        length: 100\n    }),\n    shippingClassId: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_6__.integer)(\"shipping_class_id\"),\n    image: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_9__.jsonb)(\"image\"),\n    attributes: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_9__.jsonb)(\"attributes\"),\n    menuOrder: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_6__.integer)(\"menu_order\").default(0),\n    metaData: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_9__.jsonb)(\"meta_data\"),\n    createdAt: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_4__.timestamp)(\"created_at\").defaultNow().notNull(),\n    updatedAt: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_4__.timestamp)(\"updated_at\").defaultNow().notNull(),\n    dateCreated: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_4__.timestamp)(\"date_created\"),\n    dateModified: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_4__.timestamp)(\"date_modified\"),\n    dateOnSaleFrom: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_4__.timestamp)(\"date_on_sale_from\"),\n    dateOnSaleTo: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_4__.timestamp)(\"date_on_sale_to\")\n}, (table)=>({\n        shopWooIdx: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_5__.uniqueIndex)(\"variations_shop_woo_idx\").on(table.shopId, table.wooId),\n        productIdIdx: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_5__.index)(\"variations_product_id_idx\").on(table.productId),\n        skuIdx: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_5__.index)(\"variations_sku_idx\").on(table.sku),\n        statusIdx: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_5__.index)(\"variations_status_idx\").on(table.status),\n        priceIdx: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_5__.index)(\"variations_price_idx\").on(table.price),\n        stockStatusIdx: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_5__.index)(\"variations_stock_status_idx\").on(table.stockStatus)\n    }));\n/**\r\n * CSV import batches for tracking bulk operations\r\n */ const importBatches = (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_0__.pgTable)(\"import_batches\", {\n    id: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_1__.serial)(\"id\").primaryKey(),\n    shopId: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_6__.integer)(\"shop_id\").references(()=>shops.id, {\n        onDelete: \"cascade\"\n    }).notNull(),\n    filename: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_2__.varchar)(\"filename\", {\n        length: 255\n    }).notNull(),\n    fileSize: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_6__.integer)(\"file_size\"),\n    type: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_2__.varchar)(\"type\", {\n        length: 20\n    }).notNull(),\n    status: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_2__.varchar)(\"status\", {\n        length: 20\n    }).default(\"pending\"),\n    totalRows: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_6__.integer)(\"total_rows\").default(0),\n    processedRows: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_6__.integer)(\"processed_rows\").default(0),\n    successfulRows: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_6__.integer)(\"successful_rows\").default(0),\n    errorRows: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_6__.integer)(\"error_rows\").default(0),\n    errors: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_9__.jsonb)(\"errors\"),\n    startedAt: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_4__.timestamp)(\"started_at\"),\n    completedAt: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_4__.timestamp)(\"completed_at\"),\n    createdAt: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_4__.timestamp)(\"created_at\").defaultNow().notNull(),\n    updatedAt: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_4__.timestamp)(\"updated_at\").defaultNow().notNull()\n}, (table)=>({\n        shopIdx: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_5__.index)(\"import_batches_shop_idx\").on(table.shopId),\n        statusIdx: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_5__.index)(\"import_batches_status_idx\").on(table.status),\n        typeIdx: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_5__.index)(\"import_batches_type_idx\").on(table.type),\n        createdAtIdx: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_5__.index)(\"import_batches_created_at_idx\").on(table.createdAt)\n    }));\n/**\r\n * Import errors for detailed error tracking\r\n */ const importErrors = (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_0__.pgTable)(\"import_errors\", {\n    id: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_1__.serial)(\"id\").primaryKey(),\n    batchId: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_6__.integer)(\"batch_id\").references(()=>importBatches.id, {\n        onDelete: \"cascade\"\n    }).notNull(),\n    rowNumber: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_6__.integer)(\"row_number\").notNull(),\n    sku: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_2__.varchar)(\"sku\", {\n        length: 100\n    }),\n    errorType: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_2__.varchar)(\"error_type\", {\n        length: 50\n    }).notNull(),\n    errorMessage: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_7__.text)(\"error_message\").notNull(),\n    rowData: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_9__.jsonb)(\"row_data\"),\n    createdAt: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_4__.timestamp)(\"created_at\").defaultNow().notNull()\n}, (table)=>({\n        batchIdx: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_5__.index)(\"import_errors_batch_idx\").on(table.batchId),\n        errorTypeIdx: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_5__.index)(\"import_errors_type_idx\").on(table.errorType)\n    }));\n// Relations\nconst usersRelations = (0,drizzle_orm__WEBPACK_IMPORTED_MODULE_10__.relations)(users, ({ many })=>({\n        shops: many(shops),\n        sessions: many(sessions)\n    }));\nconst sessionsRelations = (0,drizzle_orm__WEBPACK_IMPORTED_MODULE_10__.relations)(sessions, ({ one })=>({\n        user: one(users, {\n            fields: [\n                sessions.userId\n            ],\n            references: [\n                users.id\n            ]\n        })\n    }));\nconst shopsRelations = (0,drizzle_orm__WEBPACK_IMPORTED_MODULE_10__.relations)(shops, ({ one, many })=>({\n        user: one(users, {\n            fields: [\n                shops.userId\n            ],\n            references: [\n                users.id\n            ]\n        }),\n        products: many(products),\n        categories: many(productCategories),\n        variations: many(variations),\n        importBatches: many(importBatches)\n    }));\nconst productsRelations = (0,drizzle_orm__WEBPACK_IMPORTED_MODULE_10__.relations)(products, ({ one, many })=>({\n        shop: one(shops, {\n            fields: [\n                products.shopId\n            ],\n            references: [\n                shops.id\n            ]\n        }),\n        variations: many(variations)\n    }));\nconst variationsRelations = (0,drizzle_orm__WEBPACK_IMPORTED_MODULE_10__.relations)(variations, ({ one })=>({\n        shop: one(shops, {\n            fields: [\n                variations.shopId\n            ],\n            references: [\n                shops.id\n            ]\n        }),\n        product: one(products, {\n            fields: [\n                variations.productId\n            ],\n            references: [\n                products.id\n            ]\n        })\n    }));\nconst productCategoriesRelations = (0,drizzle_orm__WEBPACK_IMPORTED_MODULE_10__.relations)(productCategories, ({ one })=>({\n        shop: one(shops, {\n            fields: [\n                productCategories.shopId\n            ],\n            references: [\n                shops.id\n            ]\n        })\n    }));\nconst importBatchesRelations = (0,drizzle_orm__WEBPACK_IMPORTED_MODULE_10__.relations)(importBatches, ({ one, many })=>({\n        shop: one(shops, {\n            fields: [\n                importBatches.shopId\n            ],\n            references: [\n                shops.id\n            ]\n        }),\n        errors: many(importErrors)\n    }));\nconst importErrorsRelations = (0,drizzle_orm__WEBPACK_IMPORTED_MODULE_10__.relations)(importErrors, ({ one })=>({\n        batch: one(importBatches, {\n            fields: [\n                importErrors.batchId\n            ],\n            references: [\n                importBatches.id\n            ]\n        })\n    }));\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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T0FBTztZQUNmK0csUUFBUTtnQkFBQ3pCLGNBQWMzRSxNQUFNO2FBQUM7WUFDOUJoQixZQUFZO2dCQUFDSyxNQUFNMUIsRUFBRTthQUFDO1FBQ3hCO1FBQ0F1SCxRQUFRYyxLQUFLVDtJQUNmLElBQUc7QUFFSSxNQUFNcUIsd0JBQXdCbkosdURBQVNBLENBQUM4SCxjQUFjLENBQUMsRUFBRVcsR0FBRyxFQUFFLEdBQU07UUFDekVXLE9BQU9YLElBQUl2QixlQUFlO1lBQ3hCeUIsUUFBUTtnQkFBQ2IsYUFBYUMsT0FBTzthQUFDO1lBQzlCeEcsWUFBWTtnQkFBQzJGLGNBQWNoSCxFQUFFO2FBQUM7UUFDaEM7SUFDRixJQUFHIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vd29vY29tbWVyY2UtcHJvZHVjdC1tYW5hZ2VyLy4vc3JjL2xpYi9kYi9zY2hlbWEudHM/NjJiNiJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQge1xyXG4gIHBnVGFibGUsXHJcbiAgc2VyaWFsLFxyXG4gIHZhcmNoYXIsXHJcbiAgdGV4dCxcclxuICB0aW1lc3RhbXAsXHJcbiAgaW50ZWdlcixcclxuICBkZWNpbWFsLFxyXG4gIGJvb2xlYW4sXHJcbiAganNvbmIsXHJcbiAgaW5kZXgsXHJcbiAgdW5pcXVlSW5kZXgsXHJcbn0gZnJvbSAnZHJpenpsZS1vcm0vcGctY29yZSdcclxuaW1wb3J0IHsgcmVsYXRpb25zIH0gZnJvbSAnZHJpenpsZS1vcm0nXHJcblxyXG4vKipcclxuICogVXNlcnMgZm9yIGF1dGhlbnRpY2F0aW9uXHJcbiAqL1xyXG5leHBvcnQgY29uc3QgdXNlcnMgPSBwZ1RhYmxlKFxyXG4gICd1c2VycycsXHJcbiAge1xyXG4gICAgaWQ6IHNlcmlhbCgnaWQnKS5wcmltYXJ5S2V5KCksXHJcbiAgICBlbWFpbDogdmFyY2hhcignZW1haWwnLCB7IGxlbmd0aDogMjU1IH0pLm5vdE51bGwoKS51bmlxdWUoKSxcclxuICAgIHVzZXJuYW1lOiB2YXJjaGFyKCd1c2VybmFtZScsIHsgbGVuZ3RoOiAxMDAgfSkubm90TnVsbCgpLnVuaXF1ZSgpLFxyXG4gICAgcGFzc3dvcmRIYXNoOiB2YXJjaGFyKCdwYXNzd29yZF9oYXNoJywgeyBsZW5ndGg6IDI1NSB9KS5ub3ROdWxsKCksXHJcbiAgICBpc0FjdGl2ZTogYm9vbGVhbignaXNfYWN0aXZlJykuZGVmYXVsdCh0cnVlKS5ub3ROdWxsKCksXHJcbiAgICBhdXRvU3luYzogYm9vbGVhbignYXV0b19zeW5jJykuZGVmYXVsdCh0cnVlKS5ub3ROdWxsKCksIC8vIEF1dG8gc3luYyBwcm9kdWN0cyBvbiBsb2dpblxyXG4gICAgbGFzdExvZ2luOiB0aW1lc3RhbXAoJ2xhc3RfbG9naW4nKSxcclxuICAgIGNyZWF0ZWRBdDogdGltZXN0YW1wKCdjcmVhdGVkX2F0JykuZGVmYXVsdE5vdygpLm5vdE51bGwoKSxcclxuICAgIHVwZGF0ZWRBdDogdGltZXN0YW1wKCd1cGRhdGVkX2F0JykuZGVmYXVsdE5vdygpLm5vdE51bGwoKSxcclxuICB9LFxyXG4gICh0YWJsZSkgPT4gKHtcclxuICAgIGVtYWlsSWR4OiB1bmlxdWVJbmRleCgndXNlcnNfZW1haWxfaWR4Jykub24odGFibGUuZW1haWwpLFxyXG4gICAgdXNlcm5hbWVJZHg6IHVuaXF1ZUluZGV4KCd1c2Vyc191c2VybmFtZV9pZHgnKS5vbih0YWJsZS51c2VybmFtZSksXHJcbiAgfSlcclxuKVxyXG5cclxuLyoqXHJcbiAqIFVzZXIgc2Vzc2lvbnMgZm9yIGF1dGhlbnRpY2F0aW9uXHJcbiAqL1xyXG5leHBvcnQgY29uc3Qgc2Vzc2lvbnMgPSBwZ1RhYmxlKFxyXG4gICdzZXNzaW9ucycsXHJcbiAge1xyXG4gICAgaWQ6IHZhcmNoYXIoJ2lkJywgeyBsZW5ndGg6IDI1NSB9KS5wcmltYXJ5S2V5KCksXHJcbiAgICB1c2VySWQ6IGludGVnZXIoJ3VzZXJfaWQnKS5yZWZlcmVuY2VzKCgpID0+IHVzZXJzLmlkLCB7IG9uRGVsZXRlOiAnY2FzY2FkZScgfSkubm90TnVsbCgpLFxyXG4gICAgZXhwaXJlc0F0OiB0aW1lc3RhbXAoJ2V4cGlyZXNfYXQnKS5ub3ROdWxsKCksXHJcbiAgICBjcmVhdGVkQXQ6IHRpbWVzdGFtcCgnY3JlYXRlZF9hdCcpLmRlZmF1bHROb3coKS5ub3ROdWxsKCksXHJcbiAgfSxcclxuICAodGFibGUpID0+ICh7XHJcbiAgICB1c2VySWRJZHg6IGluZGV4KCdzZXNzaW9uc191c2VyX2lkX2lkeCcpLm9uKHRhYmxlLnVzZXJJZCksXHJcbiAgICBleHBpcmVzQXRJZHg6IGluZGV4KCdzZXNzaW9uc19leHBpcmVzX2F0X2lkeCcpLm9uKHRhYmxlLmV4cGlyZXNBdCksXHJcbiAgfSlcclxuKVxyXG5cclxuLyoqXHJcbiAqIFdvb0NvbW1lcmNlIHNob3AgY29ubmVjdGlvbnNcclxuICovXHJcbmV4cG9ydCBjb25zdCBzaG9wcyA9IHBnVGFibGUoXHJcbiAgJ3Nob3BzJyxcclxuICB7XHJcbiAgICBpZDogc2VyaWFsKCdpZCcpLnByaW1hcnlLZXkoKSxcclxuICAgIHVzZXJJZDogaW50ZWdlcigndXNlcl9pZCcpLnJlZmVyZW5jZXMoKCkgPT4gdXNlcnMuaWQsIHsgb25EZWxldGU6ICdjYXNjYWRlJyB9KS5ub3ROdWxsKCksXHJcbiAgICBuYW1lOiB2YXJjaGFyKCduYW1lJywgeyBsZW5ndGg6IDI1NSB9KS5ub3ROdWxsKCksXHJcbiAgICBiYXNlVXJsOiB2YXJjaGFyKCdiYXNlX3VybCcsIHsgbGVuZ3RoOiAyNTUgfSkubm90TnVsbCgpLFxyXG4gICAgY29uc3VtZXJLZXk6IHZhcmNoYXIoJ2NvbnN1bWVyX2tleScsIHsgbGVuZ3RoOiAyNTUgfSkubm90TnVsbCgpLFxyXG4gICAgY29uc3VtZXJTZWNyZXQ6IHZhcmNoYXIoJ2NvbnN1bWVyX3NlY3JldCcsIHsgbGVuZ3RoOiAyNTUgfSkubm90TnVsbCgpLFxyXG4gICAgaXNBY3RpdmU6IGJvb2xlYW4oJ2lzX2FjdGl2ZScpLmRlZmF1bHQodHJ1ZSkubm90TnVsbCgpLFxyXG4gICAgaXNEZWZhdWx0OiBib29sZWFuKCdpc19kZWZhdWx0JykuZGVmYXVsdChmYWxzZSkubm90TnVsbCgpLFxyXG4gICAgbGFzdFBpbmc6IHRpbWVzdGFtcCgnbGFzdF9waW5nJyksXHJcbiAgICBzdGF0dXM6IHZhcmNoYXIoJ3N0YXR1cycsIHsgbGVuZ3RoOiAyMCB9KS5kZWZhdWx0KCd1bmtub3duJyksIC8vICdvbmxpbmUnLCAnb2ZmbGluZScsICdlcnJvcidcclxuICAgIGNyZWF0ZWRBdDogdGltZXN0YW1wKCdjcmVhdGVkX2F0JykuZGVmYXVsdE5vdygpLm5vdE51bGwoKSxcclxuICAgIHVwZGF0ZWRBdDogdGltZXN0YW1wKCd1cGRhdGVkX2F0JykuZGVmYXVsdE5vdygpLm5vdE51bGwoKSxcclxuICB9LFxyXG4gICh0YWJsZSkgPT4gKHtcclxuICAgIHVzZXJJZElkeDogaW5kZXgoJ3Nob3BzX3VzZXJfaWRfaWR4Jykub24odGFibGUudXNlcklkKSxcclxuICAgIGJhc2VVcmxJZHg6IGluZGV4KCdzaG9wc19iYXNlX3VybF9pZHgnKS5vbih0YWJsZS5iYXNlVXJsKSxcclxuICAgIHN0YXR1c0lkeDogaW5kZXgoJ3Nob3BzX3N0YXR1c19pZHgnKS5vbih0YWJsZS5zdGF0dXMpLFxyXG4gIH0pXHJcbilcclxuXHJcbi8qKlxyXG4gKiBQcm9kdWN0IGNhdGVnb3JpZXNcclxuICovXHJcbmV4cG9ydCBjb25zdCBwcm9kdWN0Q2F0ZWdvcmllcyA9IHBnVGFibGUoXHJcbiAgJ3Byb2R1Y3RfY2F0ZWdvcmllcycsXHJcbiAge1xyXG4gICAgaWQ6IHNlcmlhbCgnaWQnKS5wcmltYXJ5S2V5KCksXHJcbiAgICBzaG9wSWQ6IGludGVnZXIoJ3Nob3BfaWQnKS5yZWZlcmVuY2VzKCgpID0+IHNob3BzLmlkLCB7IG9uRGVsZXRlOiAnY2FzY2FkZScgfSkubm90TnVsbCgpLFxyXG4gICAgd29vSWQ6IGludGVnZXIoJ3dvb19pZCcpLm5vdE51bGwoKSxcclxuICAgIG5hbWU6IHZhcmNoYXIoJ25hbWUnLCB7IGxlbmd0aDogMjU1IH0pLm5vdE51bGwoKSxcclxuICAgIHNsdWc6IHZhcmNoYXIoJ3NsdWcnLCB7IGxlbmd0aDogMjU1IH0pLm5vdE51bGwoKSxcclxuICAgIHBhcmVudElkOiBpbnRlZ2VyKCdwYXJlbnRfaWQnKSxcclxuICAgIGRlc2NyaXB0aW9uOiB0ZXh0KCdkZXNjcmlwdGlvbicpLFxyXG4gICAgaW1hZ2U6IHRleHQoJ2ltYWdlJyksXHJcbiAgICBjb3VudDogaW50ZWdlcignY291bnQnKS5kZWZhdWx0KDApLFxyXG4gICAgY3JlYXRlZEF0OiB0aW1lc3RhbXAoJ2NyZWF0ZWRfYXQnKS5kZWZhdWx0Tm93KCkubm90TnVsbCgpLFxyXG4gICAgdXBkYXRlZEF0OiB0aW1lc3RhbXAoJ3VwZGF0ZWRfYXQnKS5kZWZhdWx0Tm93KCkubm90TnVsbCgpLFxyXG4gIH0sXHJcbiAgKHRhYmxlKSA9PiAoe1xyXG4gICAgc2hvcFdvb0lkeDogdW5pcXVlSW5kZXgoJ2NhdGVnb3JpZXNfc2hvcF93b29faWR4Jykub24odGFibGUuc2hvcElkLCB0YWJsZS53b29JZCksXHJcbiAgICBuYW1lSWR4OiBpbmRleCgnY2F0ZWdvcmllc19uYW1lX2lkeCcpLm9uKHRhYmxlLm5hbWUpLFxyXG4gICAgc2x1Z0lkeDogaW5kZXgoJ2NhdGVnb3JpZXNfc2x1Z19pZHgnKS5vbih0YWJsZS5zbHVnKSxcclxuICB9KVxyXG4pXHJcblxyXG4vKipcclxuICogUHJvZHVjdHMgdGFibGVcclxuICovXHJcbmV4cG9ydCBjb25zdCBwcm9kdWN0cyA9IHBnVGFibGUoXHJcbiAgJ3Byb2R1Y3RzJyxcclxuICB7XHJcbiAgICBpZDogc2VyaWFsKCdpZCcpLnByaW1hcnlLZXkoKSxcclxuICAgIHNob3BJZDogaW50ZWdlcignc2hvcF9pZCcpLnJlZmVyZW5jZXMoKCkgPT4gc2hvcHMuaWQsIHsgb25EZWxldGU6ICdjYXNjYWRlJyB9KS5ub3ROdWxsKCksXHJcbiAgICB3b29JZDogaW50ZWdlcignd29vX2lkJykubm90TnVsbCgpLFxyXG4gICAgc2t1OiB2YXJjaGFyKCdza3UnLCB7IGxlbmd0aDogMTAwIH0pLFxyXG4gICAgbmFtZTogdmFyY2hhcignbmFtZScsIHsgbGVuZ3RoOiAyNTUgfSkubm90TnVsbCgpLFxyXG4gICAgc2x1ZzogdmFyY2hhcignc2x1ZycsIHsgbGVuZ3RoOiAyNTUgfSkubm90TnVsbCgpLFxyXG4gICAgdHlwZTogdmFyY2hhcigndHlwZScsIHsgbGVuZ3RoOiA1MCB9KS5kZWZhdWx0KCdzaW1wbGUnKSwgLy8gJ3NpbXBsZScsICd2YXJpYWJsZScsICdncm91cGVkJywgJ2V4dGVybmFsJ1xyXG4gICAgc3RhdHVzOiB2YXJjaGFyKCdzdGF0dXMnLCB7IGxlbmd0aDogMjAgfSkuZGVmYXVsdCgncHVibGlzaCcpLCAvLyAnZHJhZnQnLCAncGVuZGluZycsICdwcml2YXRlJywgJ3B1Ymxpc2gnXHJcbiAgICBmZWF0dXJlZDogYm9vbGVhbignZmVhdHVyZWQnKS5kZWZhdWx0KGZhbHNlKSxcclxuICAgIGNhdGFsb2dWaXNpYmlsaXR5OiB2YXJjaGFyKCdjYXRhbG9nX3Zpc2liaWxpdHknLCB7IGxlbmd0aDogMjAgfSkuZGVmYXVsdCgndmlzaWJsZScpLCAvLyAndmlzaWJsZScsICdjYXRhbG9nJywgJ3NlYXJjaCcsICdoaWRkZW4nXHJcbiAgICBkZXNjcmlwdGlvbjogdGV4dCgnZGVzY3JpcHRpb24nKSxcclxuICAgIHNob3J0RGVzY3JpcHRpb246IHRleHQoJ3Nob3J0X2Rlc2NyaXB0aW9uJyksXHJcbiAgICBwcmljZTogZGVjaW1hbCgncHJpY2UnLCB7IHByZWNpc2lvbjogMTAsIHNjYWxlOiAyIH0pLFxyXG4gICAgcmVndWxhclByaWNlOiBkZWNpbWFsKCdyZWd1bGFyX3ByaWNlJywgeyBwcmVjaXNpb246IDEwLCBzY2FsZTogMiB9KSxcclxuICAgIHNhbGVQcmljZTogZGVjaW1hbCgnc2FsZV9wcmljZScsIHsgcHJlY2lzaW9uOiAxMCwgc2NhbGU6IDIgfSksXHJcbiAgICBvblNhbGU6IGJvb2xlYW4oJ29uX3NhbGUnKS5kZWZhdWx0KGZhbHNlKSxcclxuICAgIHB1cmNoYXNhYmxlOiBib29sZWFuKCdwdXJjaGFzYWJsZScpLmRlZmF1bHQodHJ1ZSksXHJcbiAgICB0b3RhbFNhbGVzOiBpbnRlZ2VyKCd0b3RhbF9zYWxlcycpLmRlZmF1bHQoMCksXHJcbiAgICB2aXJ0dWFsOiBib29sZWFuKCd2aXJ0dWFsJykuZGVmYXVsdChmYWxzZSksXHJcbiAgICBkb3dubG9hZGFibGU6IGJvb2xlYW4oJ2Rvd25sb2FkYWJsZScpLmRlZmF1bHQoZmFsc2UpLFxyXG4gICAgZG93bmxvYWRMaW1pdDogaW50ZWdlcignZG93bmxvYWRfbGltaXQnKSxcclxuICAgIGRvd25sb2FkRXhwaXJ5OiBpbnRlZ2VyKCdkb3dubG9hZF9leHBpcnknKSxcclxuICAgIGV4dGVybmFsVXJsOiB0ZXh0KCdleHRlcm5hbF91cmwnKSxcclxuICAgIGJ1dHRvblRleHQ6IHZhcmNoYXIoJ2J1dHRvbl90ZXh0JywgeyBsZW5ndGg6IDEwMCB9KSxcclxuICAgIHRheFN0YXR1czogdmFyY2hhcigndGF4X3N0YXR1cycsIHsgbGVuZ3RoOiAyMCB9KS5kZWZhdWx0KCd0YXhhYmxlJyksIC8vICd0YXhhYmxlJywgJ3NoaXBwaW5nJywgJ25vbmUnXHJcbiAgICB0YXhDbGFzczogdmFyY2hhcigndGF4X2NsYXNzJywgeyBsZW5ndGg6IDUwIH0pLFxyXG4gICAgbWFuYWdlU3RvY2s6IGJvb2xlYW4oJ21hbmFnZV9zdG9jaycpLmRlZmF1bHQoZmFsc2UpLFxyXG4gICAgc3RvY2tRdWFudGl0eTogaW50ZWdlcignc3RvY2tfcXVhbnRpdHknKSxcclxuICAgIHN0b2NrU3RhdHVzOiB2YXJjaGFyKCdzdG9ja19zdGF0dXMnLCB7IGxlbmd0aDogMjAgfSkuZGVmYXVsdCgnaW5zdG9jaycpLCAvLyAnaW5zdG9jaycsICdvdXRvZnN0b2NrJywgJ29uYmFja29yZGVyJ1xyXG4gICAgYmFja29yZGVyczogdmFyY2hhcignYmFja29yZGVycycsIHsgbGVuZ3RoOiAyMCB9KS5kZWZhdWx0KCdubycpLCAvLyAnbm8nLCAnbm90aWZ5JywgJ3llcydcclxuICAgIGJhY2tvcmRlcnNBbGxvd2VkOiBib29sZWFuKCdiYWNrb3JkZXJzX2FsbG93ZWQnKS5kZWZhdWx0KGZhbHNlKSxcclxuICAgIGJhY2tvcmRlcmVkOiBib29sZWFuKCdiYWNrb3JkZXJlZCcpLmRlZmF1bHQoZmFsc2UpLFxyXG4gICAgbG93U3RvY2tBbW91bnQ6IGludGVnZXIoJ2xvd19zdG9ja19hbW91bnQnKSxcclxuICAgIHNvbGRJbmRpdmlkdWFsbHk6IGJvb2xlYW4oJ3NvbGRfaW5kaXZpZHVhbGx5JykuZGVmYXVsdChmYWxzZSksXHJcbiAgICB3ZWlnaHQ6IGRlY2ltYWwoJ3dlaWdodCcsIHsgcHJlY2lzaW9uOiA4LCBzY2FsZTogMiB9KSxcclxuICAgIGxlbmd0aDogZGVjaW1hbCgnbGVuZ3RoJywgeyBwcmVjaXNpb246IDgsIHNjYWxlOiAyIH0pLFxyXG4gICAgd2lkdGg6IGRlY2ltYWwoJ3dpZHRoJywgeyBwcmVjaXNpb246IDgsIHNjYWxlOiAyIH0pLFxyXG4gICAgaGVpZ2h0OiBkZWNpbWFsKCdoZWlnaHQnLCB7IHByZWNpc2lvbjogOCwgc2NhbGU6IDIgfSksXHJcbiAgICBzaGlwcGluZ1JlcXVpcmVkOiBib29sZWFuKCdzaGlwcGluZ19yZXF1aXJlZCcpLmRlZmF1bHQodHJ1ZSksXHJcbiAgICBzaGlwcGluZ1RheGFibGU6IGJvb2xlYW4oJ3NoaXBwaW5nX3RheGFibGUnKS5kZWZhdWx0KHRydWUpLFxyXG4gICAgc2hpcHBpbmdDbGFzczogdmFyY2hhcignc2hpcHBpbmdfY2xhc3MnLCB7IGxlbmd0aDogMTAwIH0pLFxyXG4gICAgc2hpcHBpbmdDbGFzc0lkOiBpbnRlZ2VyKCdzaGlwcGluZ19jbGFzc19pZCcpLFxyXG4gICAgcmV2aWV3c0FsbG93ZWQ6IGJvb2xlYW4oJ3Jldmlld3NfYWxsb3dlZCcpLmRlZmF1bHQodHJ1ZSksXHJcbiAgICBhdmVyYWdlUmF0aW5nOiBkZWNpbWFsKCdhdmVyYWdlX3JhdGluZycsIHsgcHJlY2lzaW9uOiAzLCBzY2FsZTogMiB9KS5kZWZhdWx0KCcwJyksXHJcbiAgICByYXRpbmdDb3VudDogaW50ZWdlcigncmF0aW5nX2NvdW50JykuZGVmYXVsdCgwKSxcclxuICAgIHJlbGF0ZWRJZHM6IGpzb25iKCdyZWxhdGVkX2lkcycpLCAvLyBBcnJheSBvZiBwcm9kdWN0IElEc1xyXG4gICAgdXBzZWxsSWRzOiBqc29uYigndXBzZWxsX2lkcycpLCAvLyBBcnJheSBvZiBwcm9kdWN0IElEc1xyXG4gICAgY3Jvc3NTZWxsSWRzOiBqc29uYignY3Jvc3Nfc2VsbF9pZHMnKSwgLy8gQXJyYXkgb2YgcHJvZHVjdCBJRHNcclxuICAgIHBhcmVudElkOiBpbnRlZ2VyKCdwYXJlbnRfaWQnKSxcclxuICAgIHB1cmNoYXNlTm90ZTogdGV4dCgncHVyY2hhc2Vfbm90ZScpLFxyXG4gICAgY2F0ZWdvcmllczoganNvbmIoJ2NhdGVnb3JpZXMnKSwgLy8gQXJyYXkgb2YgY2F0ZWdvcnkgb2JqZWN0c1xyXG4gICAgdGFnczoganNvbmIoJ3RhZ3MnKSwgLy8gQXJyYXkgb2YgdGFnIG9iamVjdHNcclxuICAgIGltYWdlczoganNvbmIoJ2ltYWdlcycpLCAvLyBBcnJheSBvZiBpbWFnZSBvYmplY3RzXHJcbiAgICBhdHRyaWJ1dGVzOiBqc29uYignYXR0cmlidXRlcycpLCAvLyBBcnJheSBvZiBhdHRyaWJ1dGUgb2JqZWN0c1xyXG4gICAgZGVmYXVsdEF0dHJpYnV0ZXM6IGpzb25iKCdkZWZhdWx0X2F0dHJpYnV0ZXMnKSwgLy8gQXJyYXkgb2YgZGVmYXVsdCBhdHRyaWJ1dGUgb2JqZWN0c1xyXG4gICAgdmFyaWF0aW9uczoganNvbmIoJ3ZhcmlhdGlvbnMnKSwgLy8gQXJyYXkgb2YgdmFyaWF0aW9uIElEc1xyXG4gICAgZ3JvdXBlZFByb2R1Y3RzOiBqc29uYignZ3JvdXBlZF9wcm9kdWN0cycpLCAvLyBBcnJheSBvZiBwcm9kdWN0IElEc1xyXG4gICAgbWVudU9yZGVyOiBpbnRlZ2VyKCdtZW51X29yZGVyJykuZGVmYXVsdCgwKSxcclxuICAgIG1ldGFEYXRhOiBqc29uYignbWV0YV9kYXRhJyksIC8vIEFycmF5IG9mIG1ldGEgZGF0YSBvYmplY3RzXHJcbiAgICBjcmVhdGVkQXQ6IHRpbWVzdGFtcCgnY3JlYXRlZF9hdCcpLmRlZmF1bHROb3coKS5ub3ROdWxsKCksXHJcbiAgICB1cGRhdGVkQXQ6IHRpbWVzdGFtcCgndXBkYXRlZF9hdCcpLmRlZmF1bHROb3coKS5ub3ROdWxsKCksXHJcbiAgICBkYXRlQ3JlYXRlZDogdGltZXN0YW1wKCdkYXRlX2NyZWF0ZWQnKSxcclxuICAgIGRhdGVNb2RpZmllZDogdGltZXN0YW1wKCdkYXRlX21vZGlmaWVkJyksXHJcbiAgICBkYXRlT25TYWxlRnJvbTogdGltZXN0YW1wKCdkYXRlX29uX3NhbGVfZnJvbScpLFxyXG4gICAgZGF0ZU9uU2FsZVRvOiB0aW1lc3RhbXAoJ2RhdGVfb25fc2FsZV90bycpLFxyXG4gIH0sXHJcbiAgKHRhYmxlKSA9PiAoe1xyXG4gICAgc2hvcFdvb0lkeDogdW5pcXVlSW5kZXgoJ3Byb2R1Y3RzX3Nob3Bfd29vX2lkeCcpLm9uKHRhYmxlLnNob3BJZCwgdGFibGUud29vSWQpLFxyXG4gICAgc2t1SWR4OiBpbmRleCgncHJvZHVjdHNfc2t1X2lkeCcpLm9uKHRhYmxlLnNrdSksXHJcbiAgICBuYW1lSWR4OiBpbmRleCgncHJvZHVjdHNfbmFtZV9pZHgnKS5vbih0YWJsZS5uYW1lKSxcclxuICAgIHR5cGVJZHg6IGluZGV4KCdwcm9kdWN0c190eXBlX2lkeCcpLm9uKHRhYmxlLnR5cGUpLFxyXG4gICAgc3RhdHVzSWR4OiBpbmRleCgncHJvZHVjdHNfc3RhdHVzX2lkeCcpLm9uKHRhYmxlLnN0YXR1cyksXHJcbiAgICBwcmljZUlkeDogaW5kZXgoJ3Byb2R1Y3RzX3ByaWNlX2lkeCcpLm9uKHRhYmxlLnByaWNlKSxcclxuICAgIHN0b2NrU3RhdHVzSWR4OiBpbmRleCgncHJvZHVjdHNfc3RvY2tfc3RhdHVzX2lkeCcpLm9uKHRhYmxlLnN0b2NrU3RhdHVzKSxcclxuICB9KVxyXG4pXHJcblxyXG4vKipcclxuICogUHJvZHVjdCB2YXJpYXRpb25zXHJcbiAqL1xyXG5leHBvcnQgY29uc3QgdmFyaWF0aW9ucyA9IHBnVGFibGUoXHJcbiAgJ3ZhcmlhdGlvbnMnLFxyXG4gIHtcclxuICAgIGlkOiBzZXJpYWwoJ2lkJykucHJpbWFyeUtleSgpLFxyXG4gICAgc2hvcElkOiBpbnRlZ2VyKCdzaG9wX2lkJykucmVmZXJlbmNlcygoKSA9PiBzaG9wcy5pZCwgeyBvbkRlbGV0ZTogJ2Nhc2NhZGUnIH0pLm5vdE51bGwoKSxcclxuICAgIHByb2R1Y3RJZDogaW50ZWdlcigncHJvZHVjdF9pZCcpLnJlZmVyZW5jZXMoKCkgPT4gcHJvZHVjdHMuaWQsIHsgb25EZWxldGU6ICdjYXNjYWRlJyB9KS5ub3ROdWxsKCksXHJcbiAgICB3b29JZDogaW50ZWdlcignd29vX2lkJykubm90TnVsbCgpLFxyXG4gICAgd29vUGFyZW50SWQ6IGludGVnZXIoJ3dvb19wYXJlbnRfaWQnKS5ub3ROdWxsKCksXHJcbiAgICBuYW1lOiB2YXJjaGFyKCduYW1lJywgeyBsZW5ndGg6IDI1NSB9KSxcclxuICAgIHNsdWc6IHZhcmNoYXIoJ3NsdWcnLCB7IGxlbmd0aDogMjU1IH0pLFxyXG4gICAgc2t1OiB2YXJjaGFyKCdza3UnLCB7IGxlbmd0aDogMTAwIH0pLFxyXG4gICAgc3RhdHVzOiB2YXJjaGFyKCdzdGF0dXMnLCB7IGxlbmd0aDogMjAgfSkuZGVmYXVsdCgncHVibGlzaCcpLFxyXG4gICAgZGVzY3JpcHRpb246IHRleHQoJ2Rlc2NyaXB0aW9uJyksXHJcbiAgICBwcmljZTogZGVjaW1hbCgncHJpY2UnLCB7IHByZWNpc2lvbjogMTAsIHNjYWxlOiAyIH0pLFxyXG4gICAgcmVndWxhclByaWNlOiBkZWNpbWFsKCdyZWd1bGFyX3ByaWNlJywgeyBwcmVjaXNpb246IDEwLCBzY2FsZTogMiB9KSxcclxuICAgIHNhbGVQcmljZTogZGVjaW1hbCgnc2FsZV9wcmljZScsIHsgcHJlY2lzaW9uOiAxMCwgc2NhbGU6IDIgfSksXHJcbiAgICBvblNhbGU6IGJvb2xlYW4oJ29uX3NhbGUnKS5kZWZhdWx0KGZhbHNlKSxcclxuICAgIHB1cmNoYXNhYmxlOiBib29sZWFuKCdwdXJjaGFzYWJsZScpLmRlZmF1bHQodHJ1ZSksXHJcbiAgICB2aXJ0dWFsOiBib29sZWFuKCd2aXJ0dWFsJykuZGVmYXVsdChmYWxzZSksXHJcbiAgICBkb3dubG9hZGFibGU6IGJvb2xlYW4oJ2Rvd25sb2FkYWJsZScpLmRlZmF1bHQoZmFsc2UpLFxyXG4gICAgZG93bmxvYWRMaW1pdDogaW50ZWdlcignZG93bmxvYWRfbGltaXQnKSxcclxuICAgIGRvd25sb2FkRXhwaXJ5OiBpbnRlZ2VyKCdkb3dubG9hZF9leHBpcnknKSxcclxuICAgIHRheFN0YXR1czogdmFyY2hhcigndGF4X3N0YXR1cycsIHsgbGVuZ3RoOiAyMCB9KS5kZWZhdWx0KCd0YXhhYmxlJyksXHJcbiAgICB0YXhDbGFzczogdmFyY2hhcigndGF4X2NsYXNzJywgeyBsZW5ndGg6IDUwIH0pLFxyXG4gICAgbWFuYWdlU3RvY2s6IGJvb2xlYW4oJ21hbmFnZV9zdG9jaycpLmRlZmF1bHQoZmFsc2UpLFxyXG4gICAgc3RvY2tRdWFudGl0eTogaW50ZWdlcignc3RvY2tfcXVhbnRpdHknKSxcclxuICAgIHN0b2NrU3RhdHVzOiB2YXJjaGFyKCdzdG9ja19zdGF0dXMnLCB7IGxlbmd0aDogMjAgfSkuZGVmYXVsdCgnaW5zdG9jaycpLFxyXG4gICAgYmFja29yZGVyczogdmFyY2hhcignYmFja29yZGVycycsIHsgbGVuZ3RoOiAyMCB9KS5kZWZhdWx0KCdubycpLFxyXG4gICAgYmFja29yZGVyc0FsbG93ZWQ6IGJvb2xlYW4oJ2JhY2tvcmRlcnNfYWxsb3dlZCcpLmRlZmF1bHQoZmFsc2UpLFxyXG4gICAgYmFja29yZGVyZWQ6IGJvb2xlYW4oJ2JhY2tvcmRlcmVkJykuZGVmYXVsdChmYWxzZSksXHJcbiAgICB3ZWlnaHQ6IGRlY2ltYWwoJ3dlaWdodCcsIHsgcHJlY2lzaW9uOiA4LCBzY2FsZTogMiB9KSxcclxuICAgIGRpbWVuc2lvbnM6IGpzb25iKCdkaW1lbnNpb25zJyksIC8vIERpbWVuc2lvbnMgb2JqZWN0XHJcbiAgICBsZW5ndGg6IGRlY2ltYWwoJ2xlbmd0aCcsIHsgcHJlY2lzaW9uOiA4LCBzY2FsZTogMiB9KSxcclxuICAgIHdpZHRoOiBkZWNpbWFsKCd3aWR0aCcsIHsgcHJlY2lzaW9uOiA4LCBzY2FsZTogMiB9KSxcclxuICAgIGhlaWdodDogZGVjaW1hbCgnaGVpZ2h0JywgeyBwcmVjaXNpb246IDgsIHNjYWxlOiAyIH0pLFxyXG4gICAgc2hpcHBpbmdDbGFzczogdmFyY2hhcignc2hpcHBpbmdfY2xhc3MnLCB7IGxlbmd0aDogMTAwIH0pLFxyXG4gICAgc2hpcHBpbmdDbGFzc0lkOiBpbnRlZ2VyKCdzaGlwcGluZ19jbGFzc19pZCcpLFxyXG4gICAgaW1hZ2U6IGpzb25iKCdpbWFnZScpLCAvLyBJbWFnZSBvYmplY3RcclxuICAgIGF0dHJpYnV0ZXM6IGpzb25iKCdhdHRyaWJ1dGVzJyksIC8vIEFycmF5IG9mIGF0dHJpYnV0ZSBvYmplY3RzXHJcbiAgICBtZW51T3JkZXI6IGludGVnZXIoJ21lbnVfb3JkZXInKS5kZWZhdWx0KDApLFxyXG4gICAgbWV0YURhdGE6IGpzb25iKCdtZXRhX2RhdGEnKSwgLy8gQXJyYXkgb2YgbWV0YSBkYXRhIG9iamVjdHNcclxuICAgIGNyZWF0ZWRBdDogdGltZXN0YW1wKCdjcmVhdGVkX2F0JykuZGVmYXVsdE5vdygpLm5vdE51bGwoKSxcclxuICAgIHVwZGF0ZWRBdDogdGltZXN0YW1wKCd1cGRhdGVkX2F0JykuZGVmYXVsdE5vdygpLm5vdE51bGwoKSxcclxuICAgIGRhdGVDcmVhdGVkOiB0aW1lc3RhbXAoJ2RhdGVfY3JlYXRlZCcpLFxyXG4gICAgZGF0ZU1vZGlmaWVkOiB0aW1lc3RhbXAoJ2RhdGVfbW9kaWZpZWQnKSxcclxuICAgIGRhdGVPblNhbGVGcm9tOiB0aW1lc3RhbXAoJ2RhdGVfb25fc2FsZV9mcm9tJyksXHJcbiAgICBkYXRlT25TYWxlVG86IHRpbWVzdGFtcCgnZGF0ZV9vbl9zYWxlX3RvJyksXHJcbiAgfSxcclxuICAodGFibGUpID0+ICh7XHJcbiAgICBzaG9wV29vSWR4OiB1bmlxdWVJbmRleCgndmFyaWF0aW9uc19zaG9wX3dvb19pZHgnKS5vbih0YWJsZS5zaG9wSWQsIHRhYmxlLndvb0lkKSxcclxuICAgIHByb2R1Y3RJZElkeDogaW5kZXgoJ3ZhcmlhdGlvbnNfcHJvZHVjdF9pZF9pZHgnKS5vbih0YWJsZS5wcm9kdWN0SWQpLFxyXG4gICAgc2t1SWR4OiBpbmRleCgndmFyaWF0aW9uc19za3VfaWR4Jykub24odGFibGUuc2t1KSxcclxuICAgIHN0YXR1c0lkeDogaW5kZXgoJ3ZhcmlhdGlvbnNfc3RhdHVzX2lkeCcpLm9uKHRhYmxlLnN0YXR1cyksXHJcbiAgICBwcmljZUlkeDogaW5kZXgoJ3ZhcmlhdGlvbnNfcHJpY2VfaWR4Jykub24odGFibGUucHJpY2UpLFxyXG4gICAgc3RvY2tTdGF0dXNJZHg6IGluZGV4KCd2YXJpYXRpb25zX3N0b2NrX3N0YXR1c19pZHgnKS5vbih0YWJsZS5zdG9ja1N0YXR1cyksXHJcbiAgfSlcclxuKVxyXG5cclxuLyoqXHJcbiAqIENTViBpbXBvcnQgYmF0Y2hlcyBmb3IgdHJhY2tpbmcgYnVsayBvcGVyYXRpb25zXHJcbiAqL1xyXG5leHBvcnQgY29uc3QgaW1wb3J0QmF0Y2hlcyA9IHBnVGFibGUoXHJcbiAgJ2ltcG9ydF9iYXRjaGVzJyxcclxuICB7XHJcbiAgICBpZDogc2VyaWFsKCdpZCcpLnByaW1hcnlLZXkoKSxcclxuICAgIHNob3BJZDogaW50ZWdlcignc2hvcF9pZCcpLnJlZmVyZW5jZXMoKCkgPT4gc2hvcHMuaWQsIHsgb25EZWxldGU6ICdjYXNjYWRlJyB9KS5ub3ROdWxsKCksXHJcbiAgICBmaWxlbmFtZTogdmFyY2hhcignZmlsZW5hbWUnLCB7IGxlbmd0aDogMjU1IH0pLm5vdE51bGwoKSxcclxuICAgIGZpbGVTaXplOiBpbnRlZ2VyKCdmaWxlX3NpemUnKSxcclxuICAgIHR5cGU6IHZhcmNoYXIoJ3R5cGUnLCB7IGxlbmd0aDogMjAgfSkubm90TnVsbCgpLCAvLyAncGFyZW50JywgJ3ZhcmlhdGlvbnMnXHJcbiAgICBzdGF0dXM6IHZhcmNoYXIoJ3N0YXR1cycsIHsgbGVuZ3RoOiAyMCB9KS5kZWZhdWx0KCdwZW5kaW5nJyksIC8vICdwZW5kaW5nJywgJ3Byb2Nlc3NpbmcnLCAnY29tcGxldGVkJywgJ2ZhaWxlZCdcclxuICAgIHRvdGFsUm93czogaW50ZWdlcigndG90YWxfcm93cycpLmRlZmF1bHQoMCksXHJcbiAgICBwcm9jZXNzZWRSb3dzOiBpbnRlZ2VyKCdwcm9jZXNzZWRfcm93cycpLmRlZmF1bHQoMCksXHJcbiAgICBzdWNjZXNzZnVsUm93czogaW50ZWdlcignc3VjY2Vzc2Z1bF9yb3dzJykuZGVmYXVsdCgwKSxcclxuICAgIGVycm9yUm93czogaW50ZWdlcignZXJyb3Jfcm93cycpLmRlZmF1bHQoMCksXHJcbiAgICBlcnJvcnM6IGpzb25iKCdlcnJvcnMnKSwgLy8gQXJyYXkgb2YgZXJyb3Igb2JqZWN0c1xyXG4gICAgc3RhcnRlZEF0OiB0aW1lc3RhbXAoJ3N0YXJ0ZWRfYXQnKSxcclxuICAgIGNvbXBsZXRlZEF0OiB0aW1lc3RhbXAoJ2NvbXBsZXRlZF9hdCcpLFxyXG4gICAgY3JlYXRlZEF0OiB0aW1lc3RhbXAoJ2NyZWF0ZWRfYXQnKS5kZWZhdWx0Tm93KCkubm90TnVsbCgpLFxyXG4gICAgdXBkYXRlZEF0OiB0aW1lc3RhbXAoJ3VwZGF0ZWRfYXQnKS5kZWZhdWx0Tm93KCkubm90TnVsbCgpLFxyXG4gIH0sXHJcbiAgKHRhYmxlKSA9PiAoe1xyXG4gICAgc2hvcElkeDogaW5kZXgoJ2ltcG9ydF9iYXRjaGVzX3Nob3BfaWR4Jykub24odGFibGUuc2hvcElkKSxcclxuICAgIHN0YXR1c0lkeDogaW5kZXgoJ2ltcG9ydF9iYXRjaGVzX3N0YXR1c19pZHgnKS5vbih0YWJsZS5zdGF0dXMpLFxyXG4gICAgdHlwZUlkeDogaW5kZXgoJ2ltcG9ydF9iYXRjaGVzX3R5cGVfaWR4Jykub24odGFibGUudHlwZSksXHJcbiAgICBjcmVhdGVkQXRJZHg6IGluZGV4KCdpbXBvcnRfYmF0Y2hlc19jcmVhdGVkX2F0X2lkeCcpLm9uKHRhYmxlLmNyZWF0ZWRBdCksXHJcbiAgfSlcclxuKVxyXG5cclxuLyoqXHJcbiAqIEltcG9ydCBlcnJvcnMgZm9yIGRldGFpbGVkIGVycm9yIHRyYWNraW5nXHJcbiAqL1xyXG5leHBvcnQgY29uc3QgaW1wb3J0RXJyb3JzID0gcGdUYWJsZShcclxuICAnaW1wb3J0X2Vycm9ycycsXHJcbiAge1xyXG4gICAgaWQ6IHNlcmlhbCgnaWQnKS5wcmltYXJ5S2V5KCksXHJcbiAgICBiYXRjaElkOiBpbnRlZ2VyKCdiYXRjaF9pZCcpLnJlZmVyZW5jZXMoKCkgPT4gaW1wb3J0QmF0Y2hlcy5pZCwgeyBvbkRlbGV0ZTogJ2Nhc2NhZGUnIH0pLm5vdE51bGwoKSxcclxuICAgIHJvd051bWJlcjogaW50ZWdlcigncm93X251bWJlcicpLm5vdE51bGwoKSxcclxuICAgIHNrdTogdmFyY2hhcignc2t1JywgeyBsZW5ndGg6IDEwMCB9KSxcclxuICAgIGVycm9yVHlwZTogdmFyY2hhcignZXJyb3JfdHlwZScsIHsgbGVuZ3RoOiA1MCB9KS5ub3ROdWxsKCksIC8vICd2YWxpZGF0aW9uJywgJ3dvb2NvbW1lcmNlJywgJ25ldHdvcmsnXHJcbiAgICBlcnJvck1lc3NhZ2U6IHRleHQoJ2Vycm9yX21lc3NhZ2UnKS5ub3ROdWxsKCksXHJcbiAgICByb3dEYXRhOiBqc29uYigncm93X2RhdGEnKSwgLy8gT3JpZ2luYWwgQ1NWIHJvdyBkYXRhXHJcbiAgICBjcmVhdGVkQXQ6IHRpbWVzdGFtcCgnY3JlYXRlZF9hdCcpLmRlZmF1bHROb3coKS5ub3ROdWxsKCksXHJcbiAgfSxcclxuICAodGFibGUpID0+ICh7XHJcbiAgICBiYXRjaElkeDogaW5kZXgoJ2ltcG9ydF9lcnJvcnNfYmF0Y2hfaWR4Jykub24odGFibGUuYmF0Y2hJZCksXHJcbiAgICBlcnJvclR5cGVJZHg6IGluZGV4KCdpbXBvcnRfZXJyb3JzX3R5cGVfaWR4Jykub24odGFibGUuZXJyb3JUeXBlKSxcclxuICB9KVxyXG4pXHJcblxyXG4vLyBSZWxhdGlvbnNcclxuZXhwb3J0IGNvbnN0IHVzZXJzUmVsYXRpb25zID0gcmVsYXRpb25zKHVzZXJzLCAoeyBtYW55IH0pID0+ICh7XHJcbiAgc2hvcHM6IG1hbnkoc2hvcHMpLFxyXG4gIHNlc3Npb25zOiBtYW55KHNlc3Npb25zKSxcclxufSkpXHJcblxyXG5leHBvcnQgY29uc3Qgc2Vzc2lvbnNSZWxhdGlvbnMgPSByZWxhdGlvbnMoc2Vzc2lvbnMsICh7IG9uZSB9KSA9PiAoe1xyXG4gIHVzZXI6IG9uZSh1c2Vycywge1xyXG4gICAgZmllbGRzOiBbc2Vzc2lvbnMudXNlcklkXSxcclxuICAgIHJlZmVyZW5jZXM6IFt1c2Vycy5pZF0sXHJcbiAgfSksXHJcbn0pKVxyXG5cclxuZXhwb3J0IGNvbnN0IHNob3BzUmVsYXRpb25zID0gcmVsYXRpb25zKHNob3BzLCAoeyBvbmUsIG1hbnkgfSkgPT4gKHtcclxuICB1c2VyOiBvbmUodXNlcnMsIHtcclxuICAgIGZpZWxkczogW3Nob3BzLnVzZXJJZF0sXHJcbiAgICByZWZlcmVuY2VzOiBbdXNlcnMuaWRdLFxyXG4gIH0pLFxyXG4gIHByb2R1Y3RzOiBtYW55KHByb2R1Y3RzKSxcclxuICBjYXRlZ29yaWVzOiBtYW55KHByb2R1Y3RDYXRlZ29yaWVzKSxcclxuICB2YXJpYXRpb25zOiBtYW55KHZhcmlhdGlvbnMpLFxyXG4gIGltcG9ydEJhdGNoZXM6IG1hbnkoaW1wb3J0QmF0Y2hlcyksXHJcbn0pKVxyXG5cclxuZXhwb3J0IGNvbnN0IHByb2R1Y3RzUmVsYXRpb25zID0gcmVsYXRpb25zKHByb2R1Y3RzLCAoeyBvbmUsIG1hbnkgfSkgPT4gKHtcclxuICBzaG9wOiBvbmUoc2hvcHMsIHtcclxuICAgIGZpZWxkczogW3Byb2R1Y3RzLnNob3BJZF0sXHJcbiAgICByZWZlcmVuY2VzOiBbc2hvcHMuaWRdLFxyXG4gIH0pLFxyXG4gIHZhcmlhdGlvbnM6IG1hbnkodmFyaWF0aW9ucyksXHJcbn0pKVxyXG5cclxuZXhwb3J0IGNvbnN0IHZhcmlhdGlvbnNSZWxhdGlvbnMgPSByZWxhdGlvbnModmFyaWF0aW9ucywgKHsgb25lIH0pID0+ICh7XHJcbiAgc2hvcDogb25lKHNob3BzLCB7XHJcbiAgICBmaWVsZHM6IFt2YXJpYXRpb25zLnNob3BJZF0sXHJcbiAgICByZWZlcmVuY2VzOiBbc2hvcHMuaWRdLFxyXG4gIH0pLFxyXG4gIHByb2R1Y3Q6IG9uZShwcm9kdWN0cywge1xyXG4gICAgZmllbGRzOiBbdmFyaWF0aW9ucy5wcm9kdWN0SWRdLFxyXG4gICAgcmVmZXJlbmNlczogW3Byb2R1Y3RzLmlkXSxcclxuICB9KSxcclxufSkpXHJcblxyXG5leHBvcnQgY29uc3QgcHJvZHVjdENhdGVnb3JpZXNSZWxhdGlvbnMgPSByZWxhdGlvbnMocHJvZHVjdENhdGVnb3JpZXMsICh7IG9uZSB9KSA9PiAoe1xyXG4gIHNob3A6IG9uZShzaG9wcywge1xyXG4gICAgZmllbGRzOiBbcHJvZHVjdENhdGVnb3JpZXMuc2hvcElkXSxcclxuICAgIHJlZmVyZW5jZXM6IFtzaG9wcy5pZF0sXHJcbiAgfSksXHJcbn0pKVxyXG5cclxuZXhwb3J0IGNvbnN0IGltcG9ydEJhdGNoZXNSZWxhdGlvbnMgPSByZWxhdGlvbnMoaW1wb3J0QmF0Y2hlcywgKHsgb25lLCBtYW55IH0pID0+ICh7XHJcbiAgc2hvcDogb25lKHNob3BzLCB7XHJcbiAgICBmaWVsZHM6IFtpbXBvcnRCYXRjaGVzLnNob3BJZF0sXHJcbiAgICByZWZlcmVuY2VzOiBbc2hvcHMuaWRdLFxyXG4gIH0pLFxyXG4gIGVycm9yczogbWFueShpbXBvcnRFcnJvcnMpLFxyXG59KSlcclxuXHJcbmV4cG9ydCBjb25zdCBpbXBvcnRFcnJvcnNSZWxhdGlvbnMgPSByZWxhdGlvbnMoaW1wb3J0RXJyb3JzLCAoeyBvbmUgfSkgPT4gKHtcclxuICBiYXRjaDogb25lKGltcG9ydEJhdGNoZXMsIHtcclxuICAgIGZpZWxkczogW2ltcG9ydEVycm9ycy5iYXRjaElkXSxcclxuICAgIHJlZmVyZW5jZXM6IFtpbXBvcnRCYXRjaGVzLmlkXSxcclxuICB9KSxcclxufSkpXHJcblxyXG4vLyBUeXBlc1xyXG5leHBvcnQgdHlwZSBVc2VyID0gdHlwZW9mIHVzZXJzLiRpbmZlclNlbGVjdFxyXG5leHBvcnQgdHlwZSBOZXdVc2VyID0gdHlwZW9mIHVzZXJzLiRpbmZlckluc2VydFxyXG5leHBvcnQgdHlwZSBTZXNzaW9uID0gdHlwZW9mIHNlc3Npb25zLiRpbmZlclNlbGVjdFxyXG5leHBvcnQgdHlwZSBOZXdTZXNzaW9uID0gdHlwZW9mIHNlc3Npb25zLiRpbmZlckluc2VydFxyXG5leHBvcnQgdHlwZSBTaG9wID0gdHlwZW9mIHNob3BzLiRpbmZlclNlbGVjdFxyXG5leHBvcnQgdHlwZSBOZXdTaG9wID0gdHlwZW9mIHNob3BzLiRpbmZlckluc2VydFxyXG5leHBvcnQgdHlwZSBQcm9kdWN0ID0gdHlwZW9mIHByb2R1Y3RzLiRpbmZlclNlbGVjdFxyXG5leHBvcnQgdHlwZSBOZXdQcm9kdWN0ID0gdHlwZW9mIHByb2R1Y3RzLiRpbmZlckluc2VydFxyXG5leHBvcnQgdHlwZSBWYXJpYXRpb24gPSB0eXBlb2YgdmFyaWF0aW9ucy4kaW5mZXJTZWxlY3RcclxuZXhwb3J0IHR5cGUgTmV3VmFyaWF0aW9uID0gdHlwZW9mIHZhcmlhdGlvbnMuJGluZmVySW5zZXJ0XHJcbmV4cG9ydCB0eXBlIFByb2R1Y3RDYXRlZ29yeSA9IHR5cGVvZiBwcm9kdWN0Q2F0ZWdvcmllcy4kaW5mZXJTZWxlY3RcclxuZXhwb3J0IHR5cGUgTmV3UHJvZHVjdENhdGVnb3J5ID0gdHlwZW9mIHByb2R1Y3RDYXRlZ29yaWVzLiRpbmZlckluc2VydFxyXG5leHBvcnQgdHlwZSBJbXBvcnRCYXRjaCA9IHR5cGVvZiBpbXBvcnRCYXRjaGVzLiRpbmZlclNlbGVjdFxyXG5leHBvcnQgdHlwZSBOZXdJbXBvcnRCYXRjaCA9IHR5cGVvZiBpbXBvcnRCYXRjaGVzLiRpbmZlckluc2VydFxyXG5leHBvcnQgdHlwZSBJbXBvcnRFcnJvciA9IHR5cGVvZiBpbXBvcnRFcnJvcnMuJGluZmVyU2VsZWN0XHJcbmV4cG9ydCB0eXBlIE5ld0ltcG9ydEVycm9yID0gdHlwZW9mIGltcG9ydEVycm9ycy4kaW5mZXJJbnNlcnRcclxuIl0sIm5hbWVzIjpbInBnVGFibGUiLCJzZXJpYWwiLCJ2YXJjaGFyIiwidGV4dCIsInRpbWVzdGFtcCIsImludGVnZXIiLCJkZWNpbWFsIiwiYm9vbGVhbiIsImpzb25iIiwiaW5kZXgiLCJ1bmlxdWVJbmRleCIsInJlbGF0aW9ucyIsInVzZXJzIiwiaWQiLCJwcmltYXJ5S2V5IiwiZW1haWwiLCJsZW5ndGgiLCJub3ROdWxsIiwidW5pcXVlIiwidXNlcm5hbWUiLCJwYXNzd29yZEhhc2giLCJpc0FjdGl2ZSIsImRlZmF1bHQiLCJhdXRvU3luYyIsImxhc3RMb2dpbiIsImNyZWF0ZWRBdCIsImRlZmF1bHROb3ciLCJ1cGRhdGVkQXQiLCJ0YWJsZSIsImVtYWlsSWR4Iiwib24iLCJ1c2VybmFtZUlkeCIsInNlc3Npb25zIiwidXNlcklkIiwicmVmZXJlbmNlcyIsIm9uRGVsZXRlIiwiZXhwaXJlc0F0IiwidXNlcklkSWR4IiwiZXhwaXJlc0F0SWR4Iiwic2hvcHMiLCJuYW1lIiwiYmFzZVVybCIsImNvbnN1bWVyS2V5IiwiY29uc3VtZXJTZWNyZXQiLCJpc0RlZmF1bHQiLCJsYXN0UGluZyIsInN0YXR1cyIsImJhc2VVcmxJZHgiLCJzdGF0dXNJZHgiLCJwcm9kdWN0Q2F0ZWdvcmllcyIsInNob3BJZCIsIndvb0lkIiwic2x1ZyIsInBhcmVudElkIiwiZGVzY3JpcHRpb24iLCJpbWFnZSIsImNvdW50Iiwic2hvcFdvb0lkeCIsIm5hbWVJZHgiLCJzbHVnSWR4IiwicHJvZHVjdHMiLCJza3UiLCJ0eXBlIiwiZmVhdHVyZWQiLCJjYXRhbG9nVmlzaWJpbGl0eSIsInNob3J0RGVzY3JpcHRpb24iLCJwcmljZSIsInByZWNpc2lvbiIsInNjYWxlIiwicmVndWxhclByaWNlIiwic2FsZVByaWNlIiwib25TYWxlIiwicHVyY2hhc2FibGUiLCJ0b3RhbFNhbGVzIiwidmlydHVhbCIsImRvd25sb2FkYWJsZSIsImRvd25sb2FkTGltaXQiLCJkb3dubG9hZEV4cGlyeSIsImV4dGVybmFsVXJsIiwiYnV0dG9uVGV4dCIsInRheFN0YXR1cyIsInRheENsYXNzIiwibWFuYWdlU3RvY2siLCJzdG9ja1F1YW50aXR5Iiwic3RvY2tTdGF0dXMiLCJiYWNrb3JkZXJzIiwiYmFja29yZGVyc0FsbG93ZWQiLCJiYWNrb3JkZXJlZCIsImxvd1N0b2NrQW1vdW50Iiwic29sZEluZGl2aWR1YWxseSIsIndlaWdodCIsIndpZHRoIiwiaGVpZ2h0Iiwic2hpcHBpbmdSZXF1aXJlZCIsInNoaXBwaW5nVGF4YWJsZSIsInNoaXBwaW5nQ2xhc3MiLCJzaGlwcGluZ0NsYXNzSWQiLCJyZXZpZXdzQWxsb3dlZCIsImF2ZXJhZ2VSYXRpbmciLCJyYXRpbmdDb3VudCIsInJlbGF0ZWRJZHMiLCJ1cHNlbGxJZHMiLCJjcm9zc1NlbGxJZHMiLCJwdXJjaGFzZU5vdGUiLCJjYXRlZ29yaWVzIiwidGFncyIsImltYWdlcyIsImF0dHJpYnV0ZXMiLCJkZWZhdWx0QXR0cmlidXRlcyIsInZhcmlhdGlvbnMiLCJncm91cGVkUHJvZHVjdHMiLCJtZW51T3JkZXIiLCJtZXRhRGF0YSIsImRhdGVDcmVhdGVkIiwiZGF0ZU1vZGlmaWVkIiwiZGF0ZU9uU2FsZUZyb20iLCJkYXRlT25TYWxlVG8iLCJza3VJZHgiLCJ0eXBlSWR4IiwicHJpY2VJZHgiLCJzdG9ja1N0YXR1c0lkeCIsInByb2R1Y3RJZCIsIndvb1BhcmVudElkIiwiZGltZW5zaW9ucyIsInByb2R1Y3RJZElkeCIsImltcG9ydEJhdGNoZXMiLCJmaWxlbmFtZSIsImZpbGVTaXplIiwidG90YWxSb3dzIiwicHJvY2Vzc2VkUm93cyIsInN1Y2Nlc3NmdWxSb3dzIiwiZXJyb3JSb3dzIiwiZXJyb3JzIiwic3RhcnRlZEF0IiwiY29tcGxldGVkQXQiLCJzaG9wSWR4IiwiY3JlYXRlZEF0SWR4IiwiaW1wb3J0RXJyb3JzIiwiYmF0Y2hJZCIsInJvd051bWJlciIsImVycm9yVHlwZSIsImVycm9yTWVzc2FnZSIsInJvd0RhdGEiLCJiYXRjaElkeCIsImVycm9yVHlwZUlkeCIsInVzZXJzUmVsYXRpb25zIiwibWFueSIsInNlc3Npb25zUmVsYXRpb25zIiwib25lIiwidXNlciIsImZpZWxkcyIsInNob3BzUmVsYXRpb25zIiwicHJvZHVjdHNSZWxhdGlvbnMiLCJzaG9wIiwidmFyaWF0aW9uc1JlbGF0aW9ucyIsInByb2R1Y3QiLCJwcm9kdWN0Q2F0ZWdvcmllc1JlbGF0aW9ucyIsImltcG9ydEJhdGNoZXNSZWxhdGlvbnMiLCJpbXBvcnRFcnJvcnNSZWxhdGlvbnMiLCJiYXRjaCJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./src/lib/db/schema.ts\n");

/***/ }),

/***/ "(rsc)/./src/lib/woocommerce.ts":
/*!********************************!*\
  !*** ./src/lib/woocommerce.ts ***!
  \********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   WooCommerceClient: () => (/* binding */ WooCommerceClient)\n/* harmony export */ });\nclass WooCommerceClient {\n    constructor(shop){\n        this.config = {\n            baseURL: shop.baseUrl,\n            consumerKey: shop.consumerKey,\n            consumerSecret: shop.consumerSecret,\n            version: \"v3\",\n            timeout: 30000\n        };\n        this.baseURL = `${this.config.baseURL}/wp-json/wc/${this.config.version}`;\n        this.auth = Buffer.from(`${this.config.consumerKey}:${this.config.consumerSecret}`).toString(\"base64\");\n    }\n    /**\r\n   * Generic API request method with retry logic\r\n   */ async request(endpoint, options = {}) {\n        const url = `${this.baseURL}${endpoint}`;\n        const maxRetries = 3;\n        let attempt = 0;\n        while(attempt <= maxRetries){\n            try {\n                const controller = new AbortController();\n                const timeoutId = setTimeout(()=>controller.abort(), this.config.timeout);\n                const response = await fetch(url, {\n                    ...options,\n                    headers: {\n                        \"Authorization\": `Basic ${this.auth}`,\n                        \"Content-Type\": \"application/json\",\n                        ...options.headers\n                    },\n                    signal: controller.signal\n                });\n                clearTimeout(timeoutId);\n                if (!response.ok) {\n                    throw new Error(`WooCommerce API error: ${response.status} ${response.statusText}`);\n                }\n                return await response.json();\n            } catch (error) {\n                attempt++;\n                if (attempt > maxRetries) {\n                    throw error;\n                }\n                // Exponential backoff\n                await new Promise((resolve)=>setTimeout(resolve, Math.pow(2, attempt) * 1000));\n            }\n        }\n        throw new Error(\"Maximum retries exceeded\");\n    }\n    /**\r\n   * Test connection to WooCommerce API\r\n   */ async testConnection() {\n        try {\n            await this.request(\"/system_status\");\n            return true;\n        } catch  {\n            return false;\n        }\n    }\n    /**\r\n   * Get products with pagination\r\n   */ async getProducts(params = {}) {\n        const searchParams = new URLSearchParams();\n        Object.entries(params).forEach(([key, value])=>{\n            if (value !== undefined) {\n                searchParams.append(key, String(value));\n            }\n        });\n        const response = await fetch(`${this.baseURL}/products?${searchParams}`, {\n            headers: {\n                \"Authorization\": `Basic ${this.auth}`\n            }\n        });\n        if (!response.ok) {\n            throw new Error(`Failed to fetch products: ${response.statusText}`);\n        }\n        const products = await response.json();\n        const totalPages = parseInt(response.headers.get(\"X-WP-TotalPages\") || \"1\");\n        const totalCount = parseInt(response.headers.get(\"X-WP-Total\") || \"0\");\n        return {\n            products,\n            totalPages,\n            totalCount\n        };\n    }\n    /**\r\n   * Get single product by ID\r\n   */ async getProduct(id) {\n        return this.request(`/products/${id}`);\n    }\n    /**\r\n   * Create new product\r\n   */ async createProduct(product) {\n        return this.request(\"/products\", {\n            method: \"POST\",\n            body: JSON.stringify(product)\n        });\n    }\n    /**\r\n   * Update product\r\n   */ async updateProduct(id, product) {\n        return this.request(`/products/${id}`, {\n            method: \"PUT\",\n            body: JSON.stringify(product)\n        });\n    }\n    /**\r\n   * Delete product\r\n   */ async deleteProduct(id, force = false) {\n        return this.request(`/products/${id}?force=${force}`, {\n            method: \"DELETE\"\n        });\n    }\n    /**\r\n   * Batch update products\r\n   */ async batchUpdateProducts(data) {\n        return this.request(\"/products/batch\", {\n            method: \"POST\",\n            body: JSON.stringify(data)\n        });\n    }\n    /**\r\n   * Get product variations\r\n   */ async getVariations(productId, params = {}) {\n        const searchParams = new URLSearchParams();\n        Object.entries(params).forEach(([key, value])=>{\n            if (value !== undefined) {\n                searchParams.append(key, String(value));\n            }\n        });\n        const response = await fetch(`${this.baseURL}/products/${productId}/variations?${searchParams}`, {\n            headers: {\n                \"Authorization\": `Basic ${this.auth}`\n            }\n        });\n        if (!response.ok) {\n            throw new Error(`Failed to fetch variations: ${response.statusText}`);\n        }\n        const variations = await response.json();\n        const totalPages = parseInt(response.headers.get(\"X-WP-TotalPages\") || \"1\");\n        const totalCount = parseInt(response.headers.get(\"X-WP-Total\") || \"0\");\n        return {\n            variations,\n            totalPages,\n            totalCount\n        };\n    }\n    /**\r\n   * Get single variation\r\n   */ async getVariation(productId, variationId) {\n        return this.request(`/products/${productId}/variations/${variationId}`);\n    }\n    /**\r\n   * Update variation\r\n   */ async updateVariation(productId, variationId, variation) {\n        return this.request(`/products/${productId}/variations/${variationId}`, {\n            method: \"PUT\",\n            body: JSON.stringify(variation)\n        });\n    }\n    /**\r\n   * Get categories\r\n   */ async getCategories(params = {}) {\n        const searchParams = new URLSearchParams();\n        Object.entries(params).forEach(([key, value])=>{\n            if (value !== undefined) {\n                searchParams.append(key, String(value));\n            }\n        });\n        const response = await fetch(`${this.baseURL}/products/categories?${searchParams}`, {\n            headers: {\n                \"Authorization\": `Basic ${this.auth}`\n            }\n        });\n        if (!response.ok) {\n            throw new Error(`Failed to fetch categories: ${response.statusText}`);\n        }\n        const categories = await response.json();\n        const totalPages = parseInt(response.headers.get(\"X-WP-TotalPages\") || \"1\");\n        const totalCount = parseInt(response.headers.get(\"X-WP-Total\") || \"0\");\n        return {\n            categories,\n            totalPages,\n            totalCount\n        };\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9zcmMvbGliL3dvb2NvbW1lcmNlLnRzIiwibWFwcGluZ3MiOiI7Ozs7QUFtTU8sTUFBTUE7SUFLWEMsWUFBWUMsSUFBVSxDQUFFO1FBQ3RCLElBQUksQ0FBQ0MsTUFBTSxHQUFHO1lBQ1pDLFNBQVNGLEtBQUtHLE9BQU87WUFDckJDLGFBQWFKLEtBQUtJLFdBQVc7WUFDN0JDLGdCQUFnQkwsS0FBS0ssY0FBYztZQUNuQ0MsU0FBUztZQUNUQyxTQUFTO1FBQ1g7UUFFQSxJQUFJLENBQUNMLE9BQU8sR0FBRyxDQUFDLEVBQUUsSUFBSSxDQUFDRCxNQUFNLENBQUNDLE9BQU8sQ0FBQyxZQUFZLEVBQUUsSUFBSSxDQUFDRCxNQUFNLENBQUNLLE9BQU8sQ0FBQyxDQUFDO1FBQ3pFLElBQUksQ0FBQ0UsSUFBSSxHQUFHQyxPQUFPQyxJQUFJLENBQ3JCLENBQUMsRUFBRSxJQUFJLENBQUNULE1BQU0sQ0FBQ0csV0FBVyxDQUFDLENBQUMsRUFBRSxJQUFJLENBQUNILE1BQU0sQ0FBQ0ksY0FBYyxDQUFDLENBQUMsRUFDMURNLFFBQVEsQ0FBQztJQUNiO0lBRUE7O0dBRUMsR0FDRCxNQUFjQyxRQUNaQyxRQUFnQixFQUNoQkMsVUFBdUIsQ0FBQyxDQUFDLEVBQ2I7UUFDWixNQUFNQyxNQUFNLENBQUMsRUFBRSxJQUFJLENBQUNiLE9BQU8sQ0FBQyxFQUFFVyxTQUFTLENBQUM7UUFDeEMsTUFBTUcsYUFBYTtRQUNuQixJQUFJQyxVQUFVO1FBRWQsTUFBT0EsV0FBV0QsV0FBWTtZQUM1QixJQUFJO2dCQUNGLE1BQU1FLGFBQWEsSUFBSUM7Z0JBQ3ZCLE1BQU1DLFlBQVlDLFdBQVcsSUFBTUgsV0FBV0ksS0FBSyxJQUFJLElBQUksQ0FBQ3JCLE1BQU0sQ0FBQ00sT0FBTztnQkFFMUUsTUFBTWdCLFdBQVcsTUFBTUMsTUFBTVQsS0FBSztvQkFDaEMsR0FBR0QsT0FBTztvQkFDVlcsU0FBUzt3QkFDUCxpQkFBaUIsQ0FBQyxNQUFNLEVBQUUsSUFBSSxDQUFDakIsSUFBSSxDQUFDLENBQUM7d0JBQ3JDLGdCQUFnQjt3QkFDaEIsR0FBR00sUUFBUVcsT0FBTztvQkFDcEI7b0JBQ0FDLFFBQVFSLFdBQVdRLE1BQU07Z0JBQzNCO2dCQUVBQyxhQUFhUDtnQkFFYixJQUFJLENBQUNHLFNBQVNLLEVBQUUsRUFBRTtvQkFDaEIsTUFBTSxJQUFJQyxNQUFNLENBQUMsdUJBQXVCLEVBQUVOLFNBQVNPLE1BQU0sQ0FBQyxDQUFDLEVBQUVQLFNBQVNRLFVBQVUsQ0FBQyxDQUFDO2dCQUNwRjtnQkFFQSxPQUFPLE1BQU1SLFNBQVNTLElBQUk7WUFDNUIsRUFBRSxPQUFPQyxPQUFPO2dCQUNkaEI7Z0JBQ0EsSUFBSUEsVUFBVUQsWUFBWTtvQkFDeEIsTUFBTWlCO2dCQUNSO2dCQUNBLHNCQUFzQjtnQkFDdEIsTUFBTSxJQUFJQyxRQUFRQyxDQUFBQSxVQUFXZCxXQUFXYyxTQUFTQyxLQUFLQyxHQUFHLENBQUMsR0FBR3BCLFdBQVc7WUFDMUU7UUFDRjtRQUVBLE1BQU0sSUFBSVksTUFBTTtJQUNsQjtJQUVBOztHQUVDLEdBQ0QsTUFBTVMsaUJBQW1DO1FBQ3ZDLElBQUk7WUFDRixNQUFNLElBQUksQ0FBQzFCLE9BQU8sQ0FBQztZQUNuQixPQUFPO1FBQ1QsRUFBRSxPQUFNO1lBQ04sT0FBTztRQUNUO0lBQ0Y7SUFFQTs7R0FFQyxHQUNELE1BQU0yQixZQUFZQyxTQWNkLENBQUMsQ0FBQyxFQUErRTtRQUNuRixNQUFNQyxlQUFlLElBQUlDO1FBRXpCQyxPQUFPQyxPQUFPLENBQUNKLFFBQVFLLE9BQU8sQ0FBQyxDQUFDLENBQUNDLEtBQUtDLE1BQU07WUFDMUMsSUFBSUEsVUFBVUMsV0FBVztnQkFDdkJQLGFBQWFRLE1BQU0sQ0FBQ0gsS0FBS0ksT0FBT0g7WUFDbEM7UUFDRjtRQUVBLE1BQU14QixXQUFXLE1BQU1DLE1BQU0sQ0FBQyxFQUFFLElBQUksQ0FBQ3RCLE9BQU8sQ0FBQyxVQUFVLEVBQUV1QyxhQUFhLENBQUMsRUFBRTtZQUN2RWhCLFNBQVM7Z0JBQ1AsaUJBQWlCLENBQUMsTUFBTSxFQUFFLElBQUksQ0FBQ2pCLElBQUksQ0FBQyxDQUFDO1lBQ3ZDO1FBQ0Y7UUFFQSxJQUFJLENBQUNlLFNBQVNLLEVBQUUsRUFBRTtZQUNoQixNQUFNLElBQUlDLE1BQU0sQ0FBQywwQkFBMEIsRUFBRU4sU0FBU1EsVUFBVSxDQUFDLENBQUM7UUFDcEU7UUFFQSxNQUFNb0IsV0FBVyxNQUFNNUIsU0FBU1MsSUFBSTtRQUNwQyxNQUFNb0IsYUFBYUMsU0FBUzlCLFNBQVNFLE9BQU8sQ0FBQzZCLEdBQUcsQ0FBQyxzQkFBc0I7UUFDdkUsTUFBTUMsYUFBYUYsU0FBUzlCLFNBQVNFLE9BQU8sQ0FBQzZCLEdBQUcsQ0FBQyxpQkFBaUI7UUFFbEUsT0FBTztZQUFFSDtZQUFVQztZQUFZRztRQUFXO0lBQzVDO0lBRUE7O0dBRUMsR0FDRCxNQUFNQyxXQUFXQyxFQUFVLEVBQXVCO1FBQ2hELE9BQU8sSUFBSSxDQUFDN0MsT0FBTyxDQUFhLENBQUMsVUFBVSxFQUFFNkMsR0FBRyxDQUFDO0lBQ25EO0lBRUE7O0dBRUMsR0FDRCxNQUFNQyxjQUFjQyxPQUE0QixFQUF1QjtRQUNyRSxPQUFPLElBQUksQ0FBQy9DLE9BQU8sQ0FBYSxhQUFhO1lBQzNDZ0QsUUFBUTtZQUNSQyxNQUFNQyxLQUFLQyxTQUFTLENBQUNKO1FBQ3ZCO0lBQ0Y7SUFFQTs7R0FFQyxHQUNELE1BQU1LLGNBQWNQLEVBQVUsRUFBRUUsT0FBNEIsRUFBdUI7UUFDakYsT0FBTyxJQUFJLENBQUMvQyxPQUFPLENBQWEsQ0FBQyxVQUFVLEVBQUU2QyxHQUFHLENBQUMsRUFBRTtZQUNqREcsUUFBUTtZQUNSQyxNQUFNQyxLQUFLQyxTQUFTLENBQUNKO1FBQ3ZCO0lBQ0Y7SUFFQTs7R0FFQyxHQUNELE1BQU1NLGNBQWNSLEVBQVUsRUFBRVMsUUFBUSxLQUFLLEVBQXVCO1FBQ2xFLE9BQU8sSUFBSSxDQUFDdEQsT0FBTyxDQUFhLENBQUMsVUFBVSxFQUFFNkMsR0FBRyxPQUFPLEVBQUVTLE1BQU0sQ0FBQyxFQUFFO1lBQ2hFTixRQUFRO1FBQ1Y7SUFDRjtJQUVBOztHQUVDLEdBQ0QsTUFBTU8sb0JBQW9CQyxJQUl6QixFQUlFO1FBQ0QsT0FBTyxJQUFJLENBQUN4RCxPQUFPLENBQUMsbUJBQW1CO1lBQ3JDZ0QsUUFBUTtZQUNSQyxNQUFNQyxLQUFLQyxTQUFTLENBQUNLO1FBQ3ZCO0lBQ0Y7SUFFQTs7R0FFQyxHQUNELE1BQU1DLGNBQWNDLFNBQWlCLEVBQUU5QixTQU9uQyxDQUFDLENBQUMsRUFBbUY7UUFDdkYsTUFBTUMsZUFBZSxJQUFJQztRQUV6QkMsT0FBT0MsT0FBTyxDQUFDSixRQUFRSyxPQUFPLENBQUMsQ0FBQyxDQUFDQyxLQUFLQyxNQUFNO1lBQzFDLElBQUlBLFVBQVVDLFdBQVc7Z0JBQ3ZCUCxhQUFhUSxNQUFNLENBQUNILEtBQUtJLE9BQU9IO1lBQ2xDO1FBQ0Y7UUFFQSxNQUFNeEIsV0FBVyxNQUFNQyxNQUFNLENBQUMsRUFBRSxJQUFJLENBQUN0QixPQUFPLENBQUMsVUFBVSxFQUFFb0UsVUFBVSxZQUFZLEVBQUU3QixhQUFhLENBQUMsRUFBRTtZQUMvRmhCLFNBQVM7Z0JBQ1AsaUJBQWlCLENBQUMsTUFBTSxFQUFFLElBQUksQ0FBQ2pCLElBQUksQ0FBQyxDQUFDO1lBQ3ZDO1FBQ0Y7UUFFQSxJQUFJLENBQUNlLFNBQVNLLEVBQUUsRUFBRTtZQUNoQixNQUFNLElBQUlDLE1BQU0sQ0FBQyw0QkFBNEIsRUFBRU4sU0FBU1EsVUFBVSxDQUFDLENBQUM7UUFDdEU7UUFFQSxNQUFNd0MsYUFBYSxNQUFNaEQsU0FBU1MsSUFBSTtRQUN0QyxNQUFNb0IsYUFBYUMsU0FBUzlCLFNBQVNFLE9BQU8sQ0FBQzZCLEdBQUcsQ0FBQyxzQkFBc0I7UUFDdkUsTUFBTUMsYUFBYUYsU0FBUzlCLFNBQVNFLE9BQU8sQ0FBQzZCLEdBQUcsQ0FBQyxpQkFBaUI7UUFFbEUsT0FBTztZQUFFaUI7WUFBWW5CO1lBQVlHO1FBQVc7SUFDOUM7SUFFQTs7R0FFQyxHQUNELE1BQU1pQixhQUFhRixTQUFpQixFQUFFRyxXQUFtQixFQUF5QjtRQUNoRixPQUFPLElBQUksQ0FBQzdELE9BQU8sQ0FBZSxDQUFDLFVBQVUsRUFBRTBELFVBQVUsWUFBWSxFQUFFRyxZQUFZLENBQUM7SUFDdEY7SUFFQTs7R0FFQyxHQUNELE1BQU1DLGdCQUFnQkosU0FBaUIsRUFBRUcsV0FBbUIsRUFBRUUsU0FBZ0MsRUFBeUI7UUFDckgsT0FBTyxJQUFJLENBQUMvRCxPQUFPLENBQWUsQ0FBQyxVQUFVLEVBQUUwRCxVQUFVLFlBQVksRUFBRUcsWUFBWSxDQUFDLEVBQUU7WUFDcEZiLFFBQVE7WUFDUkMsTUFBTUMsS0FBS0MsU0FBUyxDQUFDWTtRQUN2QjtJQUNGO0lBRUE7O0dBRUMsR0FDRCxNQUFNQyxjQUFjcEMsU0FPaEIsQ0FBQyxDQUFDLEVBQWtGO1FBQ3RGLE1BQU1DLGVBQWUsSUFBSUM7UUFFekJDLE9BQU9DLE9BQU8sQ0FBQ0osUUFBUUssT0FBTyxDQUFDLENBQUMsQ0FBQ0MsS0FBS0MsTUFBTTtZQUMxQyxJQUFJQSxVQUFVQyxXQUFXO2dCQUN2QlAsYUFBYVEsTUFBTSxDQUFDSCxLQUFLSSxPQUFPSDtZQUNsQztRQUNGO1FBRUEsTUFBTXhCLFdBQVcsTUFBTUMsTUFBTSxDQUFDLEVBQUUsSUFBSSxDQUFDdEIsT0FBTyxDQUFDLHFCQUFxQixFQUFFdUMsYUFBYSxDQUFDLEVBQUU7WUFDbEZoQixTQUFTO2dCQUNQLGlCQUFpQixDQUFDLE1BQU0sRUFBRSxJQUFJLENBQUNqQixJQUFJLENBQUMsQ0FBQztZQUN2QztRQUNGO1FBRUEsSUFBSSxDQUFDZSxTQUFTSyxFQUFFLEVBQUU7WUFDaEIsTUFBTSxJQUFJQyxNQUFNLENBQUMsNEJBQTRCLEVBQUVOLFNBQVNRLFVBQVUsQ0FBQyxDQUFDO1FBQ3RFO1FBRUEsTUFBTThDLGFBQWEsTUFBTXRELFNBQVNTLElBQUk7UUFDdEMsTUFBTW9CLGFBQWFDLFNBQVM5QixTQUFTRSxPQUFPLENBQUM2QixHQUFHLENBQUMsc0JBQXNCO1FBQ3ZFLE1BQU1DLGFBQWFGLFNBQVM5QixTQUFTRSxPQUFPLENBQUM2QixHQUFHLENBQUMsaUJBQWlCO1FBRWxFLE9BQU87WUFBRXVCO1lBQVl6QjtZQUFZRztRQUFXO0lBQzlDO0FBQ0YiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly93b29jb21tZXJjZS1wcm9kdWN0LW1hbmFnZXIvLi9zcmMvbGliL3dvb2NvbW1lcmNlLnRzP2Y1MDgiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHR5cGUgeyBTaG9wIH0gZnJvbSAnQC9saWIvZGIvc2NoZW1hJ1xyXG5cclxuZXhwb3J0IGludGVyZmFjZSBXb29Db21tZXJjZUNvbmZpZyB7XHJcbiAgYmFzZVVSTDogc3RyaW5nXHJcbiAgY29uc3VtZXJLZXk6IHN0cmluZ1xyXG4gIGNvbnN1bWVyU2VjcmV0OiBzdHJpbmdcclxuICB2ZXJzaW9uPzogc3RyaW5nXHJcbiAgdGltZW91dD86IG51bWJlclxyXG59XHJcblxyXG5leHBvcnQgaW50ZXJmYWNlIFdvb1Byb2R1Y3Qge1xyXG4gIGlkOiBudW1iZXJcclxuICBuYW1lOiBzdHJpbmdcclxuICBzbHVnOiBzdHJpbmdcclxuICBwZXJtYWxpbms6IHN0cmluZ1xyXG4gIGRhdGVfY3JlYXRlZDogc3RyaW5nXHJcbiAgZGF0ZV9tb2RpZmllZDogc3RyaW5nXHJcbiAgdHlwZTogJ3NpbXBsZScgfCAnZ3JvdXBlZCcgfCAnZXh0ZXJuYWwnIHwgJ3ZhcmlhYmxlJ1xyXG4gIHN0YXR1czogJ2RyYWZ0JyB8ICdwZW5kaW5nJyB8ICdwcml2YXRlJyB8ICdwdWJsaXNoJ1xyXG4gIGZlYXR1cmVkOiBib29sZWFuXHJcbiAgY2F0YWxvZ192aXNpYmlsaXR5OiAndmlzaWJsZScgfCAnY2F0YWxvZycgfCAnc2VhcmNoJyB8ICdoaWRkZW4nXHJcbiAgZGVzY3JpcHRpb246IHN0cmluZ1xyXG4gIHNob3J0X2Rlc2NyaXB0aW9uOiBzdHJpbmdcclxuICBza3U6IHN0cmluZ1xyXG4gIHByaWNlOiBzdHJpbmdcclxuICByZWd1bGFyX3ByaWNlOiBzdHJpbmdcclxuICBzYWxlX3ByaWNlOiBzdHJpbmdcclxuICBkYXRlX29uX3NhbGVfZnJvbT86IHN0cmluZ1xyXG4gIGRhdGVfb25fc2FsZV90bz86IHN0cmluZ1xyXG4gIHByaWNlX2h0bWw6IHN0cmluZ1xyXG4gIG9uX3NhbGU6IGJvb2xlYW5cclxuICBwdXJjaGFzYWJsZTogYm9vbGVhblxyXG4gIHRvdGFsX3NhbGVzOiBudW1iZXJcclxuICB2aXJ0dWFsOiBib29sZWFuXHJcbiAgZG93bmxvYWRhYmxlOiBib29sZWFuXHJcbiAgZG93bmxvYWRzOiBBcnJheTx7XHJcbiAgICBpZDogc3RyaW5nXHJcbiAgICBuYW1lOiBzdHJpbmdcclxuICAgIGZpbGU6IHN0cmluZ1xyXG4gIH0+XHJcbiAgZG93bmxvYWRfbGltaXQ6IG51bWJlclxyXG4gIGRvd25sb2FkX2V4cGlyeTogbnVtYmVyXHJcbiAgZXh0ZXJuYWxfdXJsOiBzdHJpbmdcclxuICBidXR0b25fdGV4dDogc3RyaW5nXHJcbiAgdGF4X3N0YXR1czogJ3RheGFibGUnIHwgJ3NoaXBwaW5nJyB8ICdub25lJ1xyXG4gIHRheF9jbGFzczogc3RyaW5nXHJcbiAgbWFuYWdlX3N0b2NrOiBib29sZWFuXHJcbiAgc3RvY2tfcXVhbnRpdHk/OiBudW1iZXJcclxuICBzdG9ja19zdGF0dXM6ICdpbnN0b2NrJyB8ICdvdXRvZnN0b2NrJyB8ICdvbmJhY2tvcmRlcidcclxuICBiYWNrb3JkZXJzOiAnbm8nIHwgJ25vdGlmeScgfCAneWVzJ1xyXG4gIGJhY2tvcmRlcnNfYWxsb3dlZDogYm9vbGVhblxyXG4gIGJhY2tvcmRlcmVkOiBib29sZWFuXHJcbiAgbG93X3N0b2NrX2Ftb3VudD86IG51bWJlclxyXG4gIHNvbGRfaW5kaXZpZHVhbGx5OiBib29sZWFuXHJcbiAgd2VpZ2h0OiBzdHJpbmdcclxuICBkaW1lbnNpb25zOiB7XHJcbiAgICBsZW5ndGg6IHN0cmluZ1xyXG4gICAgd2lkdGg6IHN0cmluZ1xyXG4gICAgaGVpZ2h0OiBzdHJpbmdcclxuICB9XHJcbiAgc2hpcHBpbmdfcmVxdWlyZWQ6IGJvb2xlYW5cclxuICBzaGlwcGluZ190YXhhYmxlOiBib29sZWFuXHJcbiAgc2hpcHBpbmdfY2xhc3M6IHN0cmluZ1xyXG4gIHNoaXBwaW5nX2NsYXNzX2lkOiBudW1iZXJcclxuICByZXZpZXdzX2FsbG93ZWQ6IGJvb2xlYW5cclxuICBhdmVyYWdlX3JhdGluZzogc3RyaW5nXHJcbiAgcmF0aW5nX2NvdW50OiBudW1iZXJcclxuICByZWxhdGVkX2lkczogbnVtYmVyW11cclxuICB1cHNlbGxfaWRzOiBudW1iZXJbXVxyXG4gIGNyb3NzX3NlbGxfaWRzOiBudW1iZXJbXVxyXG4gIHBhcmVudF9pZDogbnVtYmVyXHJcbiAgcHVyY2hhc2Vfbm90ZTogc3RyaW5nXHJcbiAgY2F0ZWdvcmllczogQXJyYXk8e1xyXG4gICAgaWQ6IG51bWJlclxyXG4gICAgbmFtZTogc3RyaW5nXHJcbiAgICBzbHVnOiBzdHJpbmdcclxuICB9PlxyXG4gIHRhZ3M6IEFycmF5PHtcclxuICAgIGlkOiBudW1iZXJcclxuICAgIG5hbWU6IHN0cmluZ1xyXG4gICAgc2x1Zzogc3RyaW5nXHJcbiAgfT5cclxuICBpbWFnZXM6IEFycmF5PHtcclxuICAgIGlkOiBudW1iZXJcclxuICAgIGRhdGVfY3JlYXRlZDogc3RyaW5nXHJcbiAgICBkYXRlX21vZGlmaWVkOiBzdHJpbmdcclxuICAgIHNyYzogc3RyaW5nXHJcbiAgICBuYW1lOiBzdHJpbmdcclxuICAgIGFsdDogc3RyaW5nXHJcbiAgfT5cclxuICBhdHRyaWJ1dGVzOiBBcnJheTx7XHJcbiAgICBpZDogbnVtYmVyXHJcbiAgICBuYW1lOiBzdHJpbmdcclxuICAgIHBvc2l0aW9uOiBudW1iZXJcclxuICAgIHZpc2libGU6IGJvb2xlYW5cclxuICAgIHZhcmlhdGlvbjogYm9vbGVhblxyXG4gICAgb3B0aW9uczogc3RyaW5nW11cclxuICB9PlxyXG4gIGRlZmF1bHRfYXR0cmlidXRlczogQXJyYXk8e1xyXG4gICAgaWQ6IG51bWJlclxyXG4gICAgbmFtZTogc3RyaW5nXHJcbiAgICBvcHRpb246IHN0cmluZ1xyXG4gIH0+XHJcbiAgdmFyaWF0aW9uczogbnVtYmVyW11cclxuICBncm91cGVkX3Byb2R1Y3RzOiBudW1iZXJbXVxyXG4gIG1lbnVfb3JkZXI6IG51bWJlclxyXG4gIG1ldGFfZGF0YTogQXJyYXk8e1xyXG4gICAgaWQ6IG51bWJlclxyXG4gICAga2V5OiBzdHJpbmdcclxuICAgIHZhbHVlOiBhbnlcclxuICB9PlxyXG59XHJcblxyXG5leHBvcnQgaW50ZXJmYWNlIFdvb1ZhcmlhdGlvbiB7XHJcbiAgaWQ6IG51bWJlclxyXG4gIGRhdGVfY3JlYXRlZDogc3RyaW5nXHJcbiAgZGF0ZV9tb2RpZmllZDogc3RyaW5nXHJcbiAgZGVzY3JpcHRpb246IHN0cmluZ1xyXG4gIHBlcm1hbGluazogc3RyaW5nXHJcbiAgbmFtZT86IHN0cmluZyAgLy8gVmFyaWF0aW9uIG5hdm4gZXIgaWtrZSBhbHRpZCB0aWxnw6ZuZ2VsaWd0XHJcbiAgc2t1OiBzdHJpbmdcclxuICBwcmljZTogc3RyaW5nXHJcbiAgcmVndWxhcl9wcmljZTogc3RyaW5nXHJcbiAgc2FsZV9wcmljZTogc3RyaW5nXHJcbiAgZGF0ZV9vbl9zYWxlX2Zyb20/OiBzdHJpbmdcclxuICBkYXRlX29uX3NhbGVfdG8/OiBzdHJpbmdcclxuICBvbl9zYWxlOiBib29sZWFuXHJcbiAgc3RhdHVzOiAnZHJhZnQnIHwgJ3BlbmRpbmcnIHwgJ3ByaXZhdGUnIHwgJ3B1Ymxpc2gnXHJcbiAgcHVyY2hhc2FibGU6IGJvb2xlYW5cclxuICB2aXJ0dWFsOiBib29sZWFuXHJcbiAgZG93bmxvYWRhYmxlOiBib29sZWFuXHJcbiAgZG93bmxvYWRzOiBBcnJheTx7XHJcbiAgICBpZDogc3RyaW5nXHJcbiAgICBuYW1lOiBzdHJpbmdcclxuICAgIGZpbGU6IHN0cmluZ1xyXG4gIH0+XHJcbiAgZG93bmxvYWRfbGltaXQ6IG51bWJlclxyXG4gIGRvd25sb2FkX2V4cGlyeTogbnVtYmVyXHJcbiAgdGF4X3N0YXR1czogc3RyaW5nXHJcbiAgdGF4X2NsYXNzOiBzdHJpbmdcclxuICBtYW5hZ2Vfc3RvY2s6IGJvb2xlYW5cclxuICBzdG9ja19xdWFudGl0eT86IG51bWJlclxyXG4gIHN0b2NrX3N0YXR1czogJ2luc3RvY2snIHwgJ291dG9mc3RvY2snIHwgJ29uYmFja29yZGVyJ1xyXG4gIGJhY2tvcmRlcnM6ICdubycgfCAnbm90aWZ5JyB8ICd5ZXMnXHJcbiAgYmFja29yZGVyc19hbGxvd2VkOiBib29sZWFuXHJcbiAgYmFja29yZGVyZWQ6IGJvb2xlYW5cclxuICBsb3dfc3RvY2tfYW1vdW50PzogbnVtYmVyXHJcbiAgd2VpZ2h0OiBzdHJpbmdcclxuICBkaW1lbnNpb25zOiB7XHJcbiAgICBsZW5ndGg6IHN0cmluZ1xyXG4gICAgd2lkdGg6IHN0cmluZ1xyXG4gICAgaGVpZ2h0OiBzdHJpbmdcclxuICB9XHJcbiAgc2hpcHBpbmdfY2xhc3M6IHN0cmluZ1xyXG4gIHNoaXBwaW5nX2NsYXNzX2lkOiBudW1iZXJcclxuICBpbWFnZToge1xyXG4gICAgaWQ6IG51bWJlclxyXG4gICAgZGF0ZV9jcmVhdGVkOiBzdHJpbmdcclxuICAgIGRhdGVfbW9kaWZpZWQ6IHN0cmluZ1xyXG4gICAgc3JjOiBzdHJpbmdcclxuICAgIG5hbWU6IHN0cmluZ1xyXG4gICAgYWx0OiBzdHJpbmdcclxuICB9IHwgbnVsbFxyXG4gIGF0dHJpYnV0ZXM6IEFycmF5PHtcclxuICAgIGlkOiBudW1iZXJcclxuICAgIG5hbWU6IHN0cmluZ1xyXG4gICAgb3B0aW9uOiBzdHJpbmdcclxuICB9PlxyXG4gIG1lbnVfb3JkZXI6IG51bWJlclxyXG4gIG1ldGFfZGF0YTogQXJyYXk8e1xyXG4gICAgaWQ6IG51bWJlclxyXG4gICAga2V5OiBzdHJpbmdcclxuICAgIHZhbHVlOiBhbnlcclxuICB9PlxyXG59XHJcblxyXG5leHBvcnQgaW50ZXJmYWNlIFdvb0NhdGVnb3J5IHtcclxuICBpZDogbnVtYmVyXHJcbiAgbmFtZTogc3RyaW5nXHJcbiAgc2x1Zzogc3RyaW5nXHJcbiAgcGFyZW50OiBudW1iZXJcclxuICBkZXNjcmlwdGlvbjogc3RyaW5nXHJcbiAgZGlzcGxheTogJ2RlZmF1bHQnIHwgJ3Byb2R1Y3RzJyB8ICdzdWJjYXRlZ29yaWVzJyB8ICdib3RoJ1xyXG4gIGltYWdlOiB7XHJcbiAgICBpZDogbnVtYmVyXHJcbiAgICBkYXRlX2NyZWF0ZWQ6IHN0cmluZ1xyXG4gICAgZGF0ZV9tb2RpZmllZDogc3RyaW5nXHJcbiAgICBzcmM6IHN0cmluZ1xyXG4gICAgbmFtZTogc3RyaW5nXHJcbiAgICBhbHQ6IHN0cmluZ1xyXG4gIH0gfCBudWxsXHJcbiAgbWVudV9vcmRlcjogbnVtYmVyXHJcbiAgY291bnQ6IG51bWJlclxyXG59XHJcblxyXG5leHBvcnQgY2xhc3MgV29vQ29tbWVyY2VDbGllbnQge1xyXG4gIHByaXZhdGUgY29uZmlnOiBXb29Db21tZXJjZUNvbmZpZ1xyXG4gIHByaXZhdGUgYmFzZVVSTDogc3RyaW5nXHJcbiAgcHJpdmF0ZSBhdXRoOiBzdHJpbmdcclxuXHJcbiAgY29uc3RydWN0b3Ioc2hvcDogU2hvcCkge1xyXG4gICAgdGhpcy5jb25maWcgPSB7XHJcbiAgICAgIGJhc2VVUkw6IHNob3AuYmFzZVVybCxcclxuICAgICAgY29uc3VtZXJLZXk6IHNob3AuY29uc3VtZXJLZXksXHJcbiAgICAgIGNvbnN1bWVyU2VjcmV0OiBzaG9wLmNvbnN1bWVyU2VjcmV0LFxyXG4gICAgICB2ZXJzaW9uOiAndjMnLFxyXG4gICAgICB0aW1lb3V0OiAzMDAwMCxcclxuICAgIH1cclxuICAgIFxyXG4gICAgdGhpcy5iYXNlVVJMID0gYCR7dGhpcy5jb25maWcuYmFzZVVSTH0vd3AtanNvbi93Yy8ke3RoaXMuY29uZmlnLnZlcnNpb259YFxyXG4gICAgdGhpcy5hdXRoID0gQnVmZmVyLmZyb20oXHJcbiAgICAgIGAke3RoaXMuY29uZmlnLmNvbnN1bWVyS2V5fToke3RoaXMuY29uZmlnLmNvbnN1bWVyU2VjcmV0fWBcclxuICAgICkudG9TdHJpbmcoJ2Jhc2U2NCcpXHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBHZW5lcmljIEFQSSByZXF1ZXN0IG1ldGhvZCB3aXRoIHJldHJ5IGxvZ2ljXHJcbiAgICovXHJcbiAgcHJpdmF0ZSBhc3luYyByZXF1ZXN0PFQ+KFxyXG4gICAgZW5kcG9pbnQ6IHN0cmluZyxcclxuICAgIG9wdGlvbnM6IFJlcXVlc3RJbml0ID0ge31cclxuICApOiBQcm9taXNlPFQ+IHtcclxuICAgIGNvbnN0IHVybCA9IGAke3RoaXMuYmFzZVVSTH0ke2VuZHBvaW50fWBcclxuICAgIGNvbnN0IG1heFJldHJpZXMgPSAzXHJcbiAgICBsZXQgYXR0ZW1wdCA9IDBcclxuXHJcbiAgICB3aGlsZSAoYXR0ZW1wdCA8PSBtYXhSZXRyaWVzKSB7XHJcbiAgICAgIHRyeSB7XHJcbiAgICAgICAgY29uc3QgY29udHJvbGxlciA9IG5ldyBBYm9ydENvbnRyb2xsZXIoKVxyXG4gICAgICAgIGNvbnN0IHRpbWVvdXRJZCA9IHNldFRpbWVvdXQoKCkgPT4gY29udHJvbGxlci5hYm9ydCgpLCB0aGlzLmNvbmZpZy50aW1lb3V0KVxyXG4gICAgICAgIFxyXG4gICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2godXJsLCB7XHJcbiAgICAgICAgICAuLi5vcHRpb25zLFxyXG4gICAgICAgICAgaGVhZGVyczoge1xyXG4gICAgICAgICAgICAnQXV0aG9yaXphdGlvbic6IGBCYXNpYyAke3RoaXMuYXV0aH1gLFxyXG4gICAgICAgICAgICAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nLFxyXG4gICAgICAgICAgICAuLi5vcHRpb25zLmhlYWRlcnMsXHJcbiAgICAgICAgICB9LFxyXG4gICAgICAgICAgc2lnbmFsOiBjb250cm9sbGVyLnNpZ25hbCxcclxuICAgICAgICB9KVxyXG4gICAgICAgIFxyXG4gICAgICAgIGNsZWFyVGltZW91dCh0aW1lb3V0SWQpXHJcblxyXG4gICAgICAgIGlmICghcmVzcG9uc2Uub2spIHtcclxuICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgV29vQ29tbWVyY2UgQVBJIGVycm9yOiAke3Jlc3BvbnNlLnN0YXR1c30gJHtyZXNwb25zZS5zdGF0dXNUZXh0fWApXHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICByZXR1cm4gYXdhaXQgcmVzcG9uc2UuanNvbigpXHJcbiAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgICAgYXR0ZW1wdCsrXHJcbiAgICAgICAgaWYgKGF0dGVtcHQgPiBtYXhSZXRyaWVzKSB7XHJcbiAgICAgICAgICB0aHJvdyBlcnJvclxyXG4gICAgICAgIH1cclxuICAgICAgICAvLyBFeHBvbmVudGlhbCBiYWNrb2ZmXHJcbiAgICAgICAgYXdhaXQgbmV3IFByb21pc2UocmVzb2x2ZSA9PiBzZXRUaW1lb3V0KHJlc29sdmUsIE1hdGgucG93KDIsIGF0dGVtcHQpICogMTAwMCkpXHJcbiAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ01heGltdW0gcmV0cmllcyBleGNlZWRlZCcpXHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBUZXN0IGNvbm5lY3Rpb24gdG8gV29vQ29tbWVyY2UgQVBJXHJcbiAgICovXHJcbiAgYXN5bmMgdGVzdENvbm5lY3Rpb24oKTogUHJvbWlzZTxib29sZWFuPiB7XHJcbiAgICB0cnkge1xyXG4gICAgICBhd2FpdCB0aGlzLnJlcXVlc3QoJy9zeXN0ZW1fc3RhdHVzJylcclxuICAgICAgcmV0dXJuIHRydWVcclxuICAgIH0gY2F0Y2gge1xyXG4gICAgICByZXR1cm4gZmFsc2VcclxuICAgIH1cclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIEdldCBwcm9kdWN0cyB3aXRoIHBhZ2luYXRpb25cclxuICAgKi9cclxuICBhc3luYyBnZXRQcm9kdWN0cyhwYXJhbXM6IHtcclxuICAgIHBhZ2U/OiBudW1iZXJcclxuICAgIHBlcl9wYWdlPzogbnVtYmVyXHJcbiAgICBzZWFyY2g/OiBzdHJpbmdcclxuICAgIHN0YXR1cz86IHN0cmluZ1xyXG4gICAgY2F0ZWdvcnk/OiBudW1iZXJcclxuICAgIHNrdT86IHN0cmluZ1xyXG4gICAgZmVhdHVyZWQ/OiBib29sZWFuXHJcbiAgICBvbl9zYWxlPzogYm9vbGVhblxyXG4gICAgbWluX3ByaWNlPzogc3RyaW5nXHJcbiAgICBtYXhfcHJpY2U/OiBzdHJpbmdcclxuICAgIHN0b2NrX3N0YXR1cz86IHN0cmluZ1xyXG4gICAgb3JkZXJieT86IHN0cmluZ1xyXG4gICAgb3JkZXI/OiAnYXNjJyB8ICdkZXNjJ1xyXG4gIH0gPSB7fSk6IFByb21pc2U8eyBwcm9kdWN0czogV29vUHJvZHVjdFtdLCB0b3RhbFBhZ2VzOiBudW1iZXIsIHRvdGFsQ291bnQ6IG51bWJlciB9PiB7XHJcbiAgICBjb25zdCBzZWFyY2hQYXJhbXMgPSBuZXcgVVJMU2VhcmNoUGFyYW1zKClcclxuICAgIFxyXG4gICAgT2JqZWN0LmVudHJpZXMocGFyYW1zKS5mb3JFYWNoKChba2V5LCB2YWx1ZV0pID0+IHtcclxuICAgICAgaWYgKHZhbHVlICE9PSB1bmRlZmluZWQpIHtcclxuICAgICAgICBzZWFyY2hQYXJhbXMuYXBwZW5kKGtleSwgU3RyaW5nKHZhbHVlKSlcclxuICAgICAgfVxyXG4gICAgfSlcclxuXHJcbiAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKGAke3RoaXMuYmFzZVVSTH0vcHJvZHVjdHM/JHtzZWFyY2hQYXJhbXN9YCwge1xyXG4gICAgICBoZWFkZXJzOiB7XHJcbiAgICAgICAgJ0F1dGhvcml6YXRpb24nOiBgQmFzaWMgJHt0aGlzLmF1dGh9YCxcclxuICAgICAgfSxcclxuICAgIH0pXHJcblxyXG4gICAgaWYgKCFyZXNwb25zZS5vaykge1xyXG4gICAgICB0aHJvdyBuZXcgRXJyb3IoYEZhaWxlZCB0byBmZXRjaCBwcm9kdWN0czogJHtyZXNwb25zZS5zdGF0dXNUZXh0fWApXHJcbiAgICB9XHJcblxyXG4gICAgY29uc3QgcHJvZHVjdHMgPSBhd2FpdCByZXNwb25zZS5qc29uKClcclxuICAgIGNvbnN0IHRvdGFsUGFnZXMgPSBwYXJzZUludChyZXNwb25zZS5oZWFkZXJzLmdldCgnWC1XUC1Ub3RhbFBhZ2VzJykgfHwgJzEnKVxyXG4gICAgY29uc3QgdG90YWxDb3VudCA9IHBhcnNlSW50KHJlc3BvbnNlLmhlYWRlcnMuZ2V0KCdYLVdQLVRvdGFsJykgfHwgJzAnKVxyXG5cclxuICAgIHJldHVybiB7IHByb2R1Y3RzLCB0b3RhbFBhZ2VzLCB0b3RhbENvdW50IH1cclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIEdldCBzaW5nbGUgcHJvZHVjdCBieSBJRFxyXG4gICAqL1xyXG4gIGFzeW5jIGdldFByb2R1Y3QoaWQ6IG51bWJlcik6IFByb21pc2U8V29vUHJvZHVjdD4ge1xyXG4gICAgcmV0dXJuIHRoaXMucmVxdWVzdDxXb29Qcm9kdWN0PihgL3Byb2R1Y3RzLyR7aWR9YClcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIENyZWF0ZSBuZXcgcHJvZHVjdFxyXG4gICAqL1xyXG4gIGFzeW5jIGNyZWF0ZVByb2R1Y3QocHJvZHVjdDogUGFydGlhbDxXb29Qcm9kdWN0Pik6IFByb21pc2U8V29vUHJvZHVjdD4ge1xyXG4gICAgcmV0dXJuIHRoaXMucmVxdWVzdDxXb29Qcm9kdWN0PignL3Byb2R1Y3RzJywge1xyXG4gICAgICBtZXRob2Q6ICdQT1NUJyxcclxuICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkocHJvZHVjdCksXHJcbiAgICB9KVxyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogVXBkYXRlIHByb2R1Y3RcclxuICAgKi9cclxuICBhc3luYyB1cGRhdGVQcm9kdWN0KGlkOiBudW1iZXIsIHByb2R1Y3Q6IFBhcnRpYWw8V29vUHJvZHVjdD4pOiBQcm9taXNlPFdvb1Byb2R1Y3Q+IHtcclxuICAgIHJldHVybiB0aGlzLnJlcXVlc3Q8V29vUHJvZHVjdD4oYC9wcm9kdWN0cy8ke2lkfWAsIHtcclxuICAgICAgbWV0aG9kOiAnUFVUJyxcclxuICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkocHJvZHVjdCksXHJcbiAgICB9KVxyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogRGVsZXRlIHByb2R1Y3RcclxuICAgKi9cclxuICBhc3luYyBkZWxldGVQcm9kdWN0KGlkOiBudW1iZXIsIGZvcmNlID0gZmFsc2UpOiBQcm9taXNlPFdvb1Byb2R1Y3Q+IHtcclxuICAgIHJldHVybiB0aGlzLnJlcXVlc3Q8V29vUHJvZHVjdD4oYC9wcm9kdWN0cy8ke2lkfT9mb3JjZT0ke2ZvcmNlfWAsIHtcclxuICAgICAgbWV0aG9kOiAnREVMRVRFJyxcclxuICAgIH0pXHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBCYXRjaCB1cGRhdGUgcHJvZHVjdHNcclxuICAgKi9cclxuICBhc3luYyBiYXRjaFVwZGF0ZVByb2R1Y3RzKGRhdGE6IHtcclxuICAgIGNyZWF0ZT86IFBhcnRpYWw8V29vUHJvZHVjdD5bXVxyXG4gICAgdXBkYXRlPzogQXJyYXk8eyBpZDogbnVtYmVyIH0gJiBQYXJ0aWFsPFdvb1Byb2R1Y3Q+PlxyXG4gICAgZGVsZXRlPzogbnVtYmVyW11cclxuICB9KTogUHJvbWlzZTx7XHJcbiAgICBjcmVhdGU6IFdvb1Byb2R1Y3RbXVxyXG4gICAgdXBkYXRlOiBXb29Qcm9kdWN0W11cclxuICAgIGRlbGV0ZTogV29vUHJvZHVjdFtdXHJcbiAgfT4ge1xyXG4gICAgcmV0dXJuIHRoaXMucmVxdWVzdCgnL3Byb2R1Y3RzL2JhdGNoJywge1xyXG4gICAgICBtZXRob2Q6ICdQT1NUJyxcclxuICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoZGF0YSksXHJcbiAgICB9KVxyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogR2V0IHByb2R1Y3QgdmFyaWF0aW9uc1xyXG4gICAqL1xyXG4gIGFzeW5jIGdldFZhcmlhdGlvbnMocHJvZHVjdElkOiBudW1iZXIsIHBhcmFtczoge1xyXG4gICAgcGFnZT86IG51bWJlclxyXG4gICAgcGVyX3BhZ2U/OiBudW1iZXJcclxuICAgIHNlYXJjaD86IHN0cmluZ1xyXG4gICAgc2t1Pzogc3RyaW5nXHJcbiAgICBzdGF0dXM/OiBzdHJpbmdcclxuICAgIHN0b2NrX3N0YXR1cz86IHN0cmluZ1xyXG4gIH0gPSB7fSk6IFByb21pc2U8eyB2YXJpYXRpb25zOiBXb29WYXJpYXRpb25bXSwgdG90YWxQYWdlczogbnVtYmVyLCB0b3RhbENvdW50OiBudW1iZXIgfT4ge1xyXG4gICAgY29uc3Qgc2VhcmNoUGFyYW1zID0gbmV3IFVSTFNlYXJjaFBhcmFtcygpXHJcbiAgICBcclxuICAgIE9iamVjdC5lbnRyaWVzKHBhcmFtcykuZm9yRWFjaCgoW2tleSwgdmFsdWVdKSA9PiB7XHJcbiAgICAgIGlmICh2YWx1ZSAhPT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgc2VhcmNoUGFyYW1zLmFwcGVuZChrZXksIFN0cmluZyh2YWx1ZSkpXHJcbiAgICAgIH1cclxuICAgIH0pXHJcblxyXG4gICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaChgJHt0aGlzLmJhc2VVUkx9L3Byb2R1Y3RzLyR7cHJvZHVjdElkfS92YXJpYXRpb25zPyR7c2VhcmNoUGFyYW1zfWAsIHtcclxuICAgICAgaGVhZGVyczoge1xyXG4gICAgICAgICdBdXRob3JpemF0aW9uJzogYEJhc2ljICR7dGhpcy5hdXRofWAsXHJcbiAgICAgIH0sXHJcbiAgICB9KVxyXG5cclxuICAgIGlmICghcmVzcG9uc2Uub2spIHtcclxuICAgICAgdGhyb3cgbmV3IEVycm9yKGBGYWlsZWQgdG8gZmV0Y2ggdmFyaWF0aW9uczogJHtyZXNwb25zZS5zdGF0dXNUZXh0fWApXHJcbiAgICB9XHJcblxyXG4gICAgY29uc3QgdmFyaWF0aW9ucyA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKVxyXG4gICAgY29uc3QgdG90YWxQYWdlcyA9IHBhcnNlSW50KHJlc3BvbnNlLmhlYWRlcnMuZ2V0KCdYLVdQLVRvdGFsUGFnZXMnKSB8fCAnMScpXHJcbiAgICBjb25zdCB0b3RhbENvdW50ID0gcGFyc2VJbnQocmVzcG9uc2UuaGVhZGVycy5nZXQoJ1gtV1AtVG90YWwnKSB8fCAnMCcpXHJcblxyXG4gICAgcmV0dXJuIHsgdmFyaWF0aW9ucywgdG90YWxQYWdlcywgdG90YWxDb3VudCB9XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBHZXQgc2luZ2xlIHZhcmlhdGlvblxyXG4gICAqL1xyXG4gIGFzeW5jIGdldFZhcmlhdGlvbihwcm9kdWN0SWQ6IG51bWJlciwgdmFyaWF0aW9uSWQ6IG51bWJlcik6IFByb21pc2U8V29vVmFyaWF0aW9uPiB7XHJcbiAgICByZXR1cm4gdGhpcy5yZXF1ZXN0PFdvb1ZhcmlhdGlvbj4oYC9wcm9kdWN0cy8ke3Byb2R1Y3RJZH0vdmFyaWF0aW9ucy8ke3ZhcmlhdGlvbklkfWApXHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBVcGRhdGUgdmFyaWF0aW9uXHJcbiAgICovXHJcbiAgYXN5bmMgdXBkYXRlVmFyaWF0aW9uKHByb2R1Y3RJZDogbnVtYmVyLCB2YXJpYXRpb25JZDogbnVtYmVyLCB2YXJpYXRpb246IFBhcnRpYWw8V29vVmFyaWF0aW9uPik6IFByb21pc2U8V29vVmFyaWF0aW9uPiB7XHJcbiAgICByZXR1cm4gdGhpcy5yZXF1ZXN0PFdvb1ZhcmlhdGlvbj4oYC9wcm9kdWN0cy8ke3Byb2R1Y3RJZH0vdmFyaWF0aW9ucy8ke3ZhcmlhdGlvbklkfWAsIHtcclxuICAgICAgbWV0aG9kOiAnUFVUJyxcclxuICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkodmFyaWF0aW9uKSxcclxuICAgIH0pXHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBHZXQgY2F0ZWdvcmllc1xyXG4gICAqL1xyXG4gIGFzeW5jIGdldENhdGVnb3JpZXMocGFyYW1zOiB7XHJcbiAgICBwYWdlPzogbnVtYmVyXHJcbiAgICBwZXJfcGFnZT86IG51bWJlclxyXG4gICAgc2VhcmNoPzogc3RyaW5nXHJcbiAgICBwYXJlbnQ/OiBudW1iZXJcclxuICAgIG9yZGVyYnk/OiBzdHJpbmdcclxuICAgIG9yZGVyPzogJ2FzYycgfCAnZGVzYydcclxuICB9ID0ge30pOiBQcm9taXNlPHsgY2F0ZWdvcmllczogV29vQ2F0ZWdvcnlbXSwgdG90YWxQYWdlczogbnVtYmVyLCB0b3RhbENvdW50OiBudW1iZXIgfT4ge1xyXG4gICAgY29uc3Qgc2VhcmNoUGFyYW1zID0gbmV3IFVSTFNlYXJjaFBhcmFtcygpXHJcbiAgICBcclxuICAgIE9iamVjdC5lbnRyaWVzKHBhcmFtcykuZm9yRWFjaCgoW2tleSwgdmFsdWVdKSA9PiB7XHJcbiAgICAgIGlmICh2YWx1ZSAhPT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgc2VhcmNoUGFyYW1zLmFwcGVuZChrZXksIFN0cmluZyh2YWx1ZSkpXHJcbiAgICAgIH1cclxuICAgIH0pXHJcblxyXG4gICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaChgJHt0aGlzLmJhc2VVUkx9L3Byb2R1Y3RzL2NhdGVnb3JpZXM/JHtzZWFyY2hQYXJhbXN9YCwge1xyXG4gICAgICBoZWFkZXJzOiB7XHJcbiAgICAgICAgJ0F1dGhvcml6YXRpb24nOiBgQmFzaWMgJHt0aGlzLmF1dGh9YCxcclxuICAgICAgfSxcclxuICAgIH0pXHJcblxyXG4gICAgaWYgKCFyZXNwb25zZS5vaykge1xyXG4gICAgICB0aHJvdyBuZXcgRXJyb3IoYEZhaWxlZCB0byBmZXRjaCBjYXRlZ29yaWVzOiAke3Jlc3BvbnNlLnN0YXR1c1RleHR9YClcclxuICAgIH1cclxuXHJcbiAgICBjb25zdCBjYXRlZ29yaWVzID0gYXdhaXQgcmVzcG9uc2UuanNvbigpXHJcbiAgICBjb25zdCB0b3RhbFBhZ2VzID0gcGFyc2VJbnQocmVzcG9uc2UuaGVhZGVycy5nZXQoJ1gtV1AtVG90YWxQYWdlcycpIHx8ICcxJylcclxuICAgIGNvbnN0IHRvdGFsQ291bnQgPSBwYXJzZUludChyZXNwb25zZS5oZWFkZXJzLmdldCgnWC1XUC1Ub3RhbCcpIHx8ICcwJylcclxuXHJcbiAgICByZXR1cm4geyBjYXRlZ29yaWVzLCB0b3RhbFBhZ2VzLCB0b3RhbENvdW50IH1cclxuICB9XHJcbn1cclxuIl0sIm5hbWVzIjpbIldvb0NvbW1lcmNlQ2xpZW50IiwiY29uc3RydWN0b3IiLCJzaG9wIiwiY29uZmlnIiwiYmFzZVVSTCIsImJhc2VVcmwiLCJjb25zdW1lcktleSIsImNvbnN1bWVyU2VjcmV0IiwidmVyc2lvbiIsInRpbWVvdXQiLCJhdXRoIiwiQnVmZmVyIiwiZnJvbSIsInRvU3RyaW5nIiwicmVxdWVzdCIsImVuZHBvaW50Iiwib3B0aW9ucyIsInVybCIsIm1heFJldHJpZXMiLCJhdHRlbXB0IiwiY29udHJvbGxlciIsIkFib3J0Q29udHJvbGxlciIsInRpbWVvdXRJZCIsInNldFRpbWVvdXQiLCJhYm9ydCIsInJlc3BvbnNlIiwiZmV0Y2giLCJoZWFkZXJzIiwic2lnbmFsIiwiY2xlYXJUaW1lb3V0Iiwib2siLCJFcnJvciIsInN0YXR1cyIsInN0YXR1c1RleHQiLCJqc29uIiwiZXJyb3IiLCJQcm9taXNlIiwicmVzb2x2ZSIsIk1hdGgiLCJwb3ciLCJ0ZXN0Q29ubmVjdGlvbiIsImdldFByb2R1Y3RzIiwicGFyYW1zIiwic2VhcmNoUGFyYW1zIiwiVVJMU2VhcmNoUGFyYW1zIiwiT2JqZWN0IiwiZW50cmllcyIsImZvckVhY2giLCJrZXkiLCJ2YWx1ZSIsInVuZGVmaW5lZCIsImFwcGVuZCIsIlN0cmluZyIsInByb2R1Y3RzIiwidG90YWxQYWdlcyIsInBhcnNlSW50IiwiZ2V0IiwidG90YWxDb3VudCIsImdldFByb2R1Y3QiLCJpZCIsImNyZWF0ZVByb2R1Y3QiLCJwcm9kdWN0IiwibWV0aG9kIiwiYm9keSIsIkpTT04iLCJzdHJpbmdpZnkiLCJ1cGRhdGVQcm9kdWN0IiwiZGVsZXRlUHJvZHVjdCIsImZvcmNlIiwiYmF0Y2hVcGRhdGVQcm9kdWN0cyIsImRhdGEiLCJnZXRWYXJpYXRpb25zIiwicHJvZHVjdElkIiwidmFyaWF0aW9ucyIsImdldFZhcmlhdGlvbiIsInZhcmlhdGlvbklkIiwidXBkYXRlVmFyaWF0aW9uIiwidmFyaWF0aW9uIiwiZ2V0Q2F0ZWdvcmllcyIsImNhdGVnb3JpZXMiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./src/lib/woocommerce.ts\n");

/***/ })

};
;

// load runtime
var __webpack_require__ = require("../../../../webpack-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = __webpack_require__.X(0, ["vendor-chunks/next","vendor-chunks/drizzle-orm"], () => (__webpack_exec__("(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fproducts%2Fsync%2Froute&page=%2Fapi%2Fproducts%2Fsync%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fproducts%2Fsync%2Froute.ts&appDir=E%3A%5Cwoocommerceproductmanager%5Csrc%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=E%3A%5Cwoocommerceproductmanager&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=standalone&preferredRegion=&middlewareConfig=e30%3D!")));
module.exports = __webpack_exports__;

})();